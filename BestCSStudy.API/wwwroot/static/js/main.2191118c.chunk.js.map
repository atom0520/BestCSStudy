{"version":3,"sources":["components/HomeComponent.module.scss","components/MemberDetailsComponent.module.scss","components/MemberEditComponent.module.scss","components/FooterComponent.module.scss","components/PhotoEditorComponent.module.scss","components/PostDetailsComponent.module.scss","logo.svg","shared/img/user.png","shared/baseUrl.js","shared/config.js","shared/global.js","redux/ActionCreators.js","redux/ActionTypes.js","components/LoadingComponent.js","services/AlertifyService.js","components/HomeComponent.js","components/HeaderComponent.js","components/FooterComponent.js","components/member/MemberCardComponent.js","components/ListsComponent.js","components/member/MemberListComponent.js","shared/validators.js","components/member/MemberMessagesComponent.js","components/MemberDetailsComponent.js","components/PhotoUploaderComponent.js","components/PhotoEditorComponent.js","components/MemberEditComponent.js","components/MessagesComponent.js","components/PostFormComponent.js","components/CreatePostComponent.js","components/PostDetailsComponent.js","components/PostsComponent.js","components/EditPostComponent.js","components/LikedPostsComponent.js","components/UserPostsComponent.js","components/RegisterComponent.js","components/LoginComponent.js","components/MainComponent.js","redux/store.js","redux/values.js","redux/auth.js","redux/users.js","shared/fetchIntercept.js","App.js","serviceWorker.js","index.js","components/PostsComponent.module.scss","components/MessagesComponent.module.scss","components/CreatePostComponent.module.scss","components/member/MemberMessagesComponent.module.scss","components/HeaderComponent.module.scss","components/member/MemberCardComponent.module.scss"],"names":["module","exports","background","center","imageGallery","cardBody","cardFooter","footer","imgThumbnail","imgAuthor","btnLike","active","btnDislike","image-gallery-thumbnail","image-gallery-left-nav","image-gallery-right-nav","__webpack_require__","p","baseUrl","concat","handleFetchResponseNotOkError","response","onError","status","applicationError","headers","get","Error","clone","json","then","responseBodyJson","modalStateErrors","errors","errMess","key","catch","error","text","responseBodyText","statusText","String","prototype","toTitleCase","this","replace","txt","charAt","toUpperCase","substr","toLowerCase","Array","findIndex","filter","index","length","postCategoryOptions","value","display","genderOptions","defaultTags","loginError","message","type","loginUser","creds","onSuccess","dispatch","fetch","method","Content-Type","body","JSON","stringify","ok","console","log","token","user","localStorage","setItem","fetchUsers","pageNumber","pageSize","userParams","getState","usersLoading","params","minAge","maxAge","gender","orderBy","likers","likees","query","Object","keys","map","k","join","users","addUsers","paginationHeader","pagination","parse","usersFailed","errmess","payload","fetchUser","id","addUser","fetchPost","post","setUserMainPhotoUrl","url","auth","sendLike","recipientId","likePost","userId","postId","cancelLikedPost","dislikePost","cancelDislikedPost","fetchAuthUser","addAuthUser","fetchTags","tagParams","maxReturnNumber","minCount","tags","Loading","props","react_default","a","createElement","className","alertifyService","AlertifyService","classCallCheck","okCallback","alertify","confirm","e","success","warning","Home","_this","possibleConstructorReturn","getPrototypeOf","call","state","postParams","category","search","trendingTags","onClickTagButton","bind","assertThisInitialized","handleInputChangePostParamsForm","handleSubmitPostParamsForm","_this2","setTimeout","tag","i","indexOf","push","setState","event","target","name","objectSpread","defineProperty","history","pathname","preventDefault","_this3","registerMode","styles","noValidate","placeholder","onChange","style","borderRadius","onClick","Component","withRouter","connect","Header","modal","show","handleClickEditProfileLink","handleClickLogoutLink","isAuthenticated","err","logoutUser","react_router_dom","to","activeClassName","Dropdown","imgUser","src","mainPhotoUrl","ImgUser","alt","Toggle","as","dropdownToggle","decodedToken","unique_name","Menu","Item","dropdownItem","showModal","removeItem","Footer","MemberCard","card","cardImgWrapper","photoUrl","knownAs","memberIcons","animate","handleClickLikeButton","age","city","Lists","currentPage","itemsPerPage","totalItems","totalPages","handleChangePage","handleToggleUsersParams","handleClickLikeUserButton","pageIndex","loadUsers","param","_this4","recipient","authUser","_this5","paginationItems","_loop","Pagination","MemberCardComponent","First","disabled","Prev","Next","Last","orderByOptions","MemberList","resetFilter","handleInputChangeUsersParamsForm","handleSubmitUsersParamsForm","onSubmit","width","marginLeft","required","val","maxLength","len","minLength","MemberMessages","messages","newMessage","content","handleInputChangeNewMessage","handleSendNewMessage","loadMessages","fetchMessageThread","isRead","markMessageAsRead","sendMessage","chat","senderId","senderPhotoUrl","senderKnownAs","roundedCircle","react_timeago_lib_default","date","messageSent","live","onBlur","messageId","MemberDetails","initTab","queryString","location","tab","match","Date","dateOfBirth","valueOf","photos","photo","original","thumbnail","username","lastActive","created","toLocaleDateString","year","month","day","hour","minute","Tabs","activeKey","onSelect","Tab","eventKey","title","introduction","country","image_gallery_default","items","showPlayButton","showFullscreenButton","useBrowserFullscreen","dropzoneStyle","flex","flexDirection","alignItems","padding","borderWidth","borderColor","borderStyle","backgroundColor","color","outline","transition","dropzoneStyleActive","dropzoneStyleAccept","dropzoneStyleReject","PhotoUploader","onDrop","useCallback","acceptedFiles","handleDroppedFiles","_useDropzone","useDropzone","accept","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","files","file","path","size","handleUploadFile","isUploadingPhoto","handleRemoveFile","LoadingComponent_Loading","PhotoEditor","uploadUserPhoto","nameid","res","description","dateAdded","isMain","handleUploadedPhoto","handleSetMainPhoto","toConsumableArray","splice","setMainPhoto","photoId","setUserMainPhoto","handleDeletePhoto","deleteUserPhoto","handleDeletedPhoto","PhotoUploaderComponent","formData","FormData","append","MemberEdit","handleBlurProfileForm","form","profileForm","fields","touched","validateProfileForm","valid","dirty","handleInputChangeProfileForm","handleSubmitProfileForm","handleBeforeunload","window","addEventListener","removeEventListener","returnValue","oldMainPhoto","find","newMainPhoto","isArray","forEach","element","test","updateUser","react_router","when","defaultActiveKey","showFormFieldError","PhotoEditorComponent","Messages","messageContainer","handleChangeMessageContainer","deleteMessage","fetchMessages","_this6","table","cursor","td","recipientPhotoUrl","imgCircle","recipientKnownAs","stopPropagation","PostForm","onInputAcceptedImage","acceptedFile","images","reader","FileReader","onload","result","validateForm","readAsDataURL","onInputRejectedImage","rejectedFiles","rejectedFile","handleRemoveImage","mainImage","setMainImage","handleBlurForm","links","isUploadingImage","suggestedTags","handleInputChangeTags","handleFormArrayFieldChange","handleFormArrayFieldBlur","onClickAddLinkButton","onClickRemoveLinkButton","onImageFileDialogCancel","tagsInputProps","handleInputChangeForm","handleSubmitForm","link","postImages","image","Set","args","tagComponents","inputComponent","addTag","_ref","objectWithoutProperties","inputValue","trim","inputLength","suggestions","slice","dist_default","ref","shouldRenderSuggestions","getSuggestionValue","suggestion","renderSuggestion","inputProps","_ref2","newValue","onSuggestionSelected","_ref3","onSuggestionsClearRequested","onSuggestionsFetchRequested","encodedLinkValues","encodeURIComponent","onSubmitPost","react_tagsinput_default","renderInput","autocompleteRenderInput","renderLayout","tagsInputRenderLayout","showFormArrayFieldError","dist_es","onFileDialogCancel","onDropAccepted","onDropRejected","noDrag","_ref4","assign","htmlFor","tabIndex","labelInputImage","isInvalid","CreatePost","encodedLinks","createPost","PostFormComponent","PostDetails","onClickLikeButton","onClickDislikeButton","onClickEditButton","split","decodeURIComponent","isPostLiked","likerId","dislikers","dislikerId","_this7","isPostDisliked","postImage","author","updated","href","Posts","posts","handleLikePost","onClickPost","onClickEditPostButton","loadPosts","postIndex","includes","authUserLikerIndex","authUserDislikerIndex","fetchPosts","divPost","imgCardSide","mainPostImageUrl","handleDislikePost","EditPost","onClickCancelButton","Number","goBack","deletedImages","addedImages","addedImageStartIndex","updatePost","Fragment","LikedPosts","fetchLikedPosts","UserPosts","fetchUserPosts","Register","password","visible","confirmPassword","togglePasswordVisibility","signupUser","close","autoComplete","Login","Main","hideModal","AuthGuardedRoute","render","rest","from","HeaderComponent","component","HomeComponent","exact","PostsComponent","components_PostDetailsComponent","EditPostComponent","LikedPostsComponent","UserPostsComponent","MemberDetailsComponent","MemberEditComponent","MessagesComponent","ListsComponent","components_CreatePostComponent","Modal","onHide","animation","backdrop","centered","scrollable","Body","LoginComponent","RegisterComponent","store","createStore","combineReducers","values","arguments","undefined","isLoading","action","initAuthState","isRequestingLogin","errMessLogin","isRequestingLogout","getItem","JwtDecode","exp","now","usersDetails","userDetailsIndex","userDetails","applyMiddleware","thunk","logger","jwtWhiteListedDomains","jwtBlackListedDomains","fetchIntercept","register","request","config","domain","jwtRequired","_i","_jwtWhiteListedDomain","jwtWhiteListedDomain","_i2","_jwtBlackListedDomain","jwtBlackListedDomain","requestError","Promise","reject","responseError","App","es","MainComponent","FooterComponent","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2191118c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"HomeComponent_background__AkaY1\",\"center\":\"HomeComponent_center__6v_s_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"MemberDetailsComponent_imageGallery__AZ8KE\",\"cardBody\":\"MemberDetailsComponent_cardBody__2Bmom\",\"cardFooter\":\"MemberDetailsComponent_cardFooter__tO1jf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardBody\":\"MemberEditComponent_cardBody__3OLFD\",\"cardFooter\":\"MemberEditComponent_cardFooter__2I64y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"FooterComponent_footer__3CaNI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgThumbnail\":\"PhotoEditorComponent_imgThumbnail__3Hr55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgAuthor\":\"PostDetailsComponent_imgAuthor__18KAm\",\"btnLike\":\"PostDetailsComponent_btnLike__3ZaW8\",\"active\":\"PostDetailsComponent_active__j2a_W\",\"btnDislike\":\"PostDetailsComponent_btnDislike__2lnHy\",\"image-gallery-thumbnail\":\"PostDetailsComponent_image-gallery-thumbnail__37RYE\",\"image-gallery-left-nav\":\"PostDetailsComponent_image-gallery-left-nav__CZMkN\",\"image-gallery-right-nav\":\"PostDetailsComponent_image-gallery-right-nav__3oByI\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = \"data:image/png;base64,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\"","import { serverIP, serverPort } from './config';\r\n\r\nexport const baseUrl = `http://${serverIP}:${serverPort}/api/`;","export const serverIP = \"127.0.0.1\";\r\nexport const serverPort = \"5000\";","export const handleFetchResponseNotOkError = (response, onError) => {\r\n    if(response.status == '401'){\r\n        onError(new Error(response.statusText));\r\n        return;\r\n    }\r\n\r\n    const applicationError = response.headers.get('Application-Error');\r\n    if(applicationError){\r\n        onError(new Error(applicationError));\r\n        return;\r\n    }\r\n\r\n    response.clone().json()\r\n    .then(responseBodyJson=>{\r\n\r\n        const modalStateErrors = responseBodyJson.errors;\r\n\r\n        var errMess = '';\r\n        if(modalStateErrors && typeof(modalStateErrors) == 'object'){\r\n            for(const key in modalStateErrors){\r\n                if(modalStateErrors[key]){\r\n                    errMess += modalStateErrors[key] + '\\n';\r\n                }\r\n            }\r\n\r\n            onError(new Error(errMess));\r\n            return;\r\n        }else{\r\n\r\n            onError(new Error(modalStateErrors || 'Server Error'));\r\n            return;\r\n        }\r\n    })\r\n    .catch(error=>{\r\n\r\n        response.clone().text()\r\n        .then(responseBodyText=>{\r\n            throw new Error(responseBodyText);\r\n        })\r\n        .catch(error=>{\r\n            throw error;\r\n        })\r\n        .catch(error=>{\r\n            onError(error);\r\n            return;\r\n        });\r\n    });\r\n};\r\n\r\nString.prototype.toTitleCase = function () {\r\n    return this.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n};\r\n\r\nArray.prototype.findIndex = function (filter) {\r\n    for(let index=0; index < this.length; index++){\r\n        if(filter(this[index])){\r\n            return index;\r\n        }\r\n    }\r\n\r\n    return -1;\r\n};\r\n\r\nexport const postCategoryOptions = [\r\n    {value:'books', display:'Books'}, \r\n    {value:'mooc', display:'MOOC'},\r\n    {value:'articles', display:'Articles'},\r\n    {value:'videos', display:'Videos'},\r\n    {value:'others', display:'Others'},\r\n];\r\n\r\nexport const genderOptions = [\r\n    {value:'male', display:'Male'}, \r\n    {value:'female', display:'Female'}\r\n];\r\n\r\nexport const defaultTags =[\r\n    \"game development\",\r\n    \"web development\",\r\n    \"virtual reality\",\r\n    \"augmented reality\",\r\n    \"machine learning\",\r\n    \"deep learning\",\r\n    \"data structure\"\r\n];\r\n\r\nexport const defaultDatetimeValue = -62135571604000;","import * as ActionTypes from './ActionTypes';\r\nimport { VALUES } from '../shared/values';\r\nimport { baseUrl } from '../shared/baseUrl';\r\n\r\nimport { handleFetchResponseNotOkError } from '../shared/global';\r\n\r\nimport JwtDecode from 'jwt-decode';\r\n\r\nexport const fetchValues = (onSuccess, onError) => (dispatch) => {\r\n    console.log('fetchValues');\r\n\r\n    dispatch(valuesLoading(true));\r\n\r\n    // setTimeout(() => {\r\n    //     dispatch(addValues(VALUES));\r\n    // }, 2000);\r\n    return fetch(baseUrl + 'values')\r\n    .then(response => {\r\n        console.log(response);\r\n        if(response.ok){\r\n            return response;\r\n        } else {\r\n            var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n            error.response = response;\r\n            throw error;\r\n        }\r\n    },\r\n    error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n    })\r\n    .then(response => response.json())\r\n    .then(values => {\r\n        dispatch(addValues(values));\r\n        if(onSuccess){\r\n            onSuccess(values);\r\n        }\r\n    })\r\n    .catch(error => {\r\n        dispatch(valuesFailed(error.message));\r\n        if(onError){\r\n            onSuccess(onError);\r\n        }\r\n    });\r\n}\r\n\r\nexport const valuesLoading = () => ({\r\n    type: ActionTypes.VALUES_LOADING\r\n});\r\n\r\nexport const valuesFailed = (errmess) => ({\r\n    type: ActionTypes.VALUES_FAILED,\r\n    payload: errmess\r\n});\r\n\r\nexport const addValues = (values) => ({\r\n    type: ActionTypes.ADD_VALUES,\r\n    payload: values\r\n});\r\n\r\nexport const requestLogin = () => {\r\n    return {\r\n        type: ActionTypes.LOGIN_REQUEST\r\n    }\r\n}\r\n\r\nexport const loginSuccess = (token, user) => {\r\n    return {\r\n        type: ActionTypes.LOGIN_SUCCESS,\r\n        token: token,\r\n        user: user\r\n    }\r\n}\r\n\r\nexport const loginError = (message) => {\r\n    return {\r\n        type: ActionTypes.LOGIN_FAILURE,\r\n        message\r\n    }\r\n}\r\n\r\n// export const loadLocalToken = (onSuccess) => (dispatch) => {\r\n//     const token = localStorage.getItem('token');\r\n//     if(token != null){\r\n//         const decodedToken = JwtDecode(token);\r\n//         if (typeof decodedToken.exp === 'undefined' || decodedToken.exp > Date.now().valueOf() / 1000) {\r\n//             dispatch(receiveLogin(token, decodedToken));\r\n//             if(onSuccess){\r\n//                 onSuccess(token);\r\n//             }\r\n//         }\r\n//         else{\r\n//             localStorage.removeItem('token');\r\n//             if(onSuccess){\r\n//                 onSuccess(null);\r\n//             }\r\n//         }\r\n//     }else{\r\n//         if(onSuccess){\r\n//             onSuccess(null);\r\n//         }\r\n//     }\r\n// };\r\n\r\nexport const loginUser = (creds, onSuccess, onError) => (dispatch) => {\r\n\r\n    dispatch(requestLogin());\r\n\r\n    return fetch(baseUrl + 'auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(creds)\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n\r\n                response.json()\r\n                .then(responseBodyJson=>{\r\n                    console.log(responseBodyJson);\r\n                    if(responseBodyJson.token){\r\n                        localStorage.setItem('token', responseBodyJson.token);\r\n                        localStorage.setItem('user', JSON.stringify(responseBodyJson.user));\r\n                        dispatch(loginSuccess(responseBodyJson.token, responseBodyJson.user));\r\n\r\n                        if(onSuccess){\r\n                            onSuccess();\r\n                        }\r\n                        \r\n                    }else{\r\n          \r\n                        throw new Error('Error ' + response.status + ': ' + response.statusText);\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n\r\n                    dispatch(loginError(error.message));\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n           \r\n                    dispatch(loginError(error.message));\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{          \r\n            throw error;\r\n    })\r\n    .catch(error=>{\r\n\r\n        dispatch(loginError(error.message));\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n};\r\n\r\nexport const requestLogout = () => {\r\n    return {\r\n        type: ActionTypes.LOGOUT_REQUEST\r\n    }\r\n}\r\n\r\nexport const logoutSuccess = () => {\r\n    return {\r\n        type: ActionTypes.LOGOUT_SUCCESS\r\n    }\r\n}\r\n\r\nexport const logoutUser = (onSuccess, onError) => (dispatch) => {\r\n\r\n    dispatch(requestLogout());\r\n\r\n    localStorage.removeItem('token');\r\n\r\n    dispatch(logoutSuccess());\r\n\r\n    if(onSuccess){\r\n        onSuccess();\r\n    }\r\n}\r\n\r\n// export const requestSignup = (creds) => {\r\n//     return {\r\n//         type: ActionTypes.SIGNUP_REQUEST\r\n//     }\r\n// }\r\n\r\n// export const signupSuccess = (response) => {\r\n//     return {\r\n//         type: ActionTypes.SIGNUP_SUCCESS\r\n//     }\r\n// }\r\n\r\n// export const signupError = (message) => {\r\n//     return {\r\n//         type: ActionTypes.SIGNUP_FAILURE,\r\n//         message\r\n//     }\r\n// }\r\n\r\nexport const signupUser = (creds, onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    return fetch(baseUrl + 'auth/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(creds)\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n}\r\n\r\n// unregister();\r\n\r\n\r\nexport const fetchUsers = (pageNumber, pageSize, userParams, \r\n    onSuccess, onError) => (dispatch, getState) => {\r\n    console.log('fetchUsers');\r\n\r\n    dispatch(usersLoading());\r\n\r\n    let params = {};\r\n\r\n    if(pageNumber!=null) params['pageNumber']=pageNumber;\r\n\r\n    if(pageSize!=null) params['pageSize']=pageSize;\r\n\r\n    if(userParams!=null){\r\n        if(userParams.minAge != null) params['minAge']=userParams.minAge;\r\n        if(userParams.maxAge != null) params['maxAge']=userParams.maxAge;\r\n        if(userParams.gender != null) params['gender']=userParams.gender;\r\n        if(userParams.orderBy != null) params['orderBy']=userParams.orderBy;\r\n        if(userParams.likers != null) params['likers']=userParams.likers;\r\n        if(userParams.likees != null) params['likees']=userParams.likees;\r\n    }\r\n\r\n    let query = Object.keys(params)\r\n        .map(k => k + '=' + params[k])\r\n        .join('&');\r\n\r\n    return fetch(baseUrl + 'users?' + query)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(users => {\r\n                dispatch(addUsers(users));\r\n\r\n                let paginationHeader = response.headers.get('Pagination');\r\n                let pagination = null;\r\n                if(paginationHeader){\r\n                    pagination = JSON.parse(paginationHeader);\r\n                }\r\n\r\n                if(onSuccess){\r\n                    onSuccess(users, pagination);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                dispatch(usersFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                dispatch(usersFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        dispatch(usersFailed(error.message));\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const fetchPosts = (pageNumber, pageSize, postParams, \r\n    onSuccess, onError) => (dispatch, getState) => {\r\n    console.log('fetchPosts');\r\n\r\n    // dispatch(postsLoading());\r\n\r\n    let params = {};\r\n\r\n    if(pageNumber!=null) params['pageNumber']=pageNumber;\r\n\r\n    if(pageSize!=null) params['pageSize']=pageSize;\r\n\r\n    if(postParams!=null){\r\n        if(postParams.category != null) params['category']=postParams.category;\r\n        if(postParams.search != null) params['search']=postParams.search;\r\n        if(postParams.orderBy != null) params['orderBy']=postParams.orderBy;\r\n    }\r\n\r\n    let query = Object.keys(params)\r\n        .map(k => k + '=' + params[k])\r\n        .join('&');\r\n\r\n    return fetch(baseUrl + 'posts?' + query)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(posts => {\r\n                // dispatch(addPosts(posts));\r\n\r\n                let paginationHeader = response.headers.get('Pagination');\r\n                let pagination = null;\r\n                if(paginationHeader){\r\n                    pagination = JSON.parse(paginationHeader);\r\n                }\r\n\r\n                if(onSuccess){\r\n                    onSuccess(posts, pagination);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        // dispatch(postsFailed(error.message));\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const usersLoading = () => ({\r\n    type: ActionTypes.USERS_LOADING\r\n});\r\n\r\n// export const postsLoading = () => ({\r\n//     type: ActionTypes.POSTS_LOADING\r\n// });\r\n\r\nexport const usersFailed = (errmess) => ({\r\n    type: ActionTypes.USERS_FAILED,\r\n    payload: errmess\r\n});\r\n\r\n// export const postsFailed = (errmess) => ({\r\n//     type: ActionTypes.POSTS_FAILED,\r\n//     payload: errmess\r\n// });\r\n\r\nexport const addUsers = (users) => ({\r\n    type: ActionTypes.ADD_USERS,\r\n    payload: users\r\n});\r\n\r\n// export const addPosts = (posts) => ({\r\n//     type: ActionTypes.ADD_POSTS,\r\n//     payload: posts\r\n// });\r\n\r\nexport const fetchUser = (id, onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    return fetch(baseUrl + 'users/' + id)\r\n    .then(response => {\r\n        \r\n        if(response.ok){\r\n            response.json()\r\n            .then(user => {\r\n                dispatch(addUser(user));\r\n                if(onSuccess){\r\n                    onSuccess(user);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        \r\n        if(onError){\r\n            onError(onError);\r\n        }\r\n    });\r\n}\r\n\r\nexport const fetchPost = (id, onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    return fetch(baseUrl + 'posts/' + id)\r\n    .then(response => {\r\n        if(response.ok){\r\n            response.json()\r\n            .then(post => {\r\n                // dispatch(addUser(user));\r\n                if(onSuccess){\r\n                    onSuccess(post);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        \r\n        if(onError){\r\n            onError(onError);\r\n        }\r\n    });\r\n}\r\n\r\nexport const addUser = (user) => ({\r\n    type: ActionTypes.ADD_USER,\r\n    user\r\n});\r\n\r\nexport const updateUser = (id, user, onSuccess, onError) => (dispatch) => {\r\n    return fetch(baseUrl + 'users/'+id, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const uploadUserPhoto = (userId, file, onSuccess, onError) => (dispatch) => {\r\n    let formData = new FormData();\r\n    formData.append('File', file);\r\n\r\n    return fetch(baseUrl + `users/${userId}/photos`, {\r\n        method: 'POST',\r\n        // headers: {\r\n        //     'Content-Type': 'application/json'\r\n        // },\r\n        body: formData\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                response.json()\r\n                .then(responseBodyJson=>{\r\n                    if(onSuccess){\r\n                        onSuccess(responseBodyJson);\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const setUserMainPhotoUrl = (url) => (dispatch, getState) =>{\r\n    dispatch ({\r\n        type: ActionTypes.SET_USER_MAIN_PHOTO_URL,\r\n        url,\r\n    });\r\n\r\n    localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n}\r\n\r\nexport const setUserMainPhoto = (userId, photoId, onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/photos/${photoId}/setMain`, {\r\n        method: 'POST'\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                response.json()\r\n                .then(photo=>{\r\n\r\n                    dispatch(setUserMainPhotoUrl(photo.url));\r\n              \r\n\r\n                    if(onSuccess){\r\n                        onSuccess();\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const deleteUserPhoto = (userId, photoId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/photos/${photoId}`, {\r\n        method: 'DELETE'\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const sendLike = (id, recipientId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${id}/like/${recipientId}`, {\r\n        method: 'POST',\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const fetchMessages = (id, pageNumber, pageSize, messageContainer, onSuccess, onError) => (dispatch) => {\r\n\r\n    let params = {};\r\n\r\n    if(pageNumber!=null) params['pageNumber']=pageNumber;\r\n\r\n    if(pageSize!=null) params['pageSize']=pageSize;\r\n\r\n    if(messageContainer!=null) params['messageContainer']=messageContainer;\r\n\r\n    let query = Object.keys(params)\r\n    .map(k => k + '=' + params[k])\r\n    .join('&');\r\n\r\n    return fetch(baseUrl + `users/${id}/messages?${query}`)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(messages => {\r\n                let paginationHeader = response.headers.get('Pagination');\r\n                let pagination = null;\r\n                if(paginationHeader){\r\n                    pagination = JSON.parse(paginationHeader);\r\n                }\r\n\r\n                if(onSuccess){\r\n                    onSuccess(messages, pagination);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n        },\r\n        error => {\r\n            throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n};\r\n\r\nexport const fetchMessageThread = (id, recipientId, onSuccess, onError) => (dispatch) =>{\r\n    return fetch(baseUrl + `users/${id}/messages/thread/${recipientId}`)\r\n    .then(response => {\r\n        if(response.ok){\r\n            response.json()\r\n            .then(messages => {\r\n                if(onSuccess){\r\n                    onSuccess(messages);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n        },\r\n        error => {\r\n            throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const sendMessage = (id, message, onSuccess, onError) => (dispatch) => {\r\n    return fetch(baseUrl + `users/${id}/messages`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(message)\r\n    })\r\n    .then(response => {\r\n        if(response.ok){\r\n\r\n            response.json()\r\n            .then(message => {\r\n                if(onSuccess){\r\n                    onSuccess(message);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n        },\r\n        error => {\r\n            throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const deleteMessage = (id, userId, onSuccess, onError) => (dispatch) => {\r\n    return fetch(baseUrl + `users/${userId}/messages/${id}/delete`, {\r\n        method: 'POST'\r\n    })\r\n    .then(response => {\r\n        if(response.ok){\r\n            if(onSuccess){\r\n                onSuccess();\r\n            }\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n        },\r\n        error => {\r\n            throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const markMessageAsRead = (userId, messageId, onSuccess, onError) => (dispatch) => {\r\n    return fetch(baseUrl + `users/${userId}/messages/${messageId}/read`, {\r\n        method: 'POST'\r\n    })\r\n    .then(response => {\r\n        if(response.ok){\r\n            if(onSuccess){\r\n                onSuccess();\r\n            }\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n        },\r\n        error => {\r\n            throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const uploadPostImage = (file, onSuccess, onError) => (dispatch) => {\r\n    let formData = new FormData();\r\n    formData.append('File', file);\r\n\r\n    return fetch(baseUrl + `postsImages`, {\r\n        method: 'POST',\r\n        // headers: {\r\n        //     'Content-Type': 'application/json'\r\n        // },\r\n        body: formData\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                response.json()\r\n                .then(responseBodyJson=>{\r\n                    if(onSuccess){\r\n                        onSuccess(responseBodyJson);\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const createPost = (title, description, category, tags, links, images, mainImage, onSuccess, onError) => (dispatch, getState) => {\r\n    console.log(mainImage);\r\n    let formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('description', description);\r\n    formData.append('category', category);\r\n    formData.append('tags', tags);\r\n    formData.append('links', links);\r\n    for(let i=0; i<images.length; i++){\r\n        formData.append(`image${i+1}`, images[i]);\r\n    }\r\n    formData.append('mainImage', mainImage);\r\n    // formData.append(`images`, images);\r\n\r\n    return fetch(baseUrl + `posts`, {\r\n        method: 'POST',\r\n        // headers: {\r\n        //     'Content-Type': 'application/json'\r\n        // },\r\n        body: formData\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                response.json()\r\n                .then(responseBodyJson=>{\r\n\r\n                    if(onSuccess){\r\n                        onSuccess(responseBodyJson);\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const updatePost = (postId, title, description, category, tags, links, deletedImages, addedImages, mainImage, onSuccess, onError) => (dispatch, getState) => {\r\n    let formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('description', description);\r\n    formData.append('category', category);\r\n    formData.append('tags', tags);\r\n    formData.append('links', links);\r\n    formData.append('deletedImages', deletedImages);\r\n    for(let i=0; i<addedImages.length; i++){\r\n        formData.append(`addedImage${i+1}`, addedImages[i]);\r\n    }\r\n    formData.append('mainImage', mainImage);\r\n    // formData.append(`images`, images);\r\n\r\n    return fetch(baseUrl + `posts/${postId}`, {\r\n        method: 'PUT',\r\n        // headers: {\r\n        //     'Content-Type': 'application/json'\r\n        // },\r\n        body: formData\r\n    })\r\n    .then(response=>{\r\n            if(response.ok){\r\n                response.json()\r\n                .then(responseBodyJson=>{\r\n                    if(onSuccess){\r\n                        onSuccess(responseBodyJson);\r\n                    }\r\n                })\r\n                .catch(error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            } else {     \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const likePost = (userId, postId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/likePost/${postId}`, {\r\n        method: 'POST',\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const cancelLikedPost = (userId, postId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/cancelLikedPost/${postId}`, {\r\n        method: 'POST',\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const dislikePost = (userId, postId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/dislikePost/${postId}`, {\r\n        method: 'POST',\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const cancelDislikedPost = (userId, postId, onSuccess, onError) => (dispatch) => {\r\n\r\n    return fetch(baseUrl + `users/${userId}/cancelDislikedPost/${postId}`, {\r\n        method: 'POST',\r\n    })\r\n    .then(response=>{\r\n\r\n            if(response.ok){\r\n                if(onSuccess){\r\n                    onSuccess();\r\n                }\r\n            } else {\r\n                \r\n                handleFetchResponseNotOkError(response,\r\n                error=>{\r\n       \r\n                    if(onError){\r\n                        onError(error);\r\n                    }\r\n                });\r\n\r\n            }\r\n        },\r\n        error=>{\r\n            throw error;\r\n        })\r\n    .catch(error=>{\r\n\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    })\r\n};\r\n\r\nexport const fetchAuthUser = (id, onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    return fetch(baseUrl + 'users/auth/' + id)\r\n    .then(response => {\r\n        \r\n        if(response.ok){\r\n            response.json()\r\n            .then(user => {\r\n                dispatch(addAuthUser(user));\r\n                localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n                if(onSuccess){\r\n                    onSuccess(user);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                \r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        \r\n        if(onError){\r\n            onError(onError);\r\n        }\r\n    });\r\n}\r\n\r\nexport const addAuthUser = (user) => ({\r\n    type: ActionTypes.ADD_AUTH_USER,\r\n    user\r\n});\r\n\r\n// export const authUserLikePost = (postId) => (dispatch, getState) =>{\r\n//     dispatch ({\r\n//         type: ActionTypes.AUTH_USER_LIKE_POST,\r\n//         postId,\r\n//     });\r\n\r\n//     localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n// }\r\n\r\n// export const authUserCancelLikedPost = (postId) => (dispatch, getState) =>{\r\n//     dispatch ({\r\n//         type: ActionTypes.AUTH_USER_CANCEL_LIKED_POST,\r\n//         postId,\r\n//     });\r\n\r\n//     localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n// }\r\n\r\n// export const authUserDislikePost = (postId) => (dispatch, getState) =>{\r\n//     dispatch ({\r\n//         type: ActionTypes.AUTH_USER_DISLIKE_POST,\r\n//         postId,\r\n//     });\r\n\r\n//     localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n// }\r\n\r\n// export const authUserCancelDislikedPost = (postId) => (dispatch, getState) =>{\r\n//     dispatch ({\r\n//         type: ActionTypes.AUTH_USER_CANCEL_DISLIKED_POST,\r\n//         postId,\r\n//     });\r\n\r\n//     localStorage.setItem('user', JSON.stringify(getState().auth.user));\r\n// }\r\n\r\nexport const fetchLikedPosts = (\r\n    userId,\r\n    pageNumber, pageSize, postParams, \r\n    onSuccess, onError) => (dispatch, getState) => {\r\n    console.log('fetchLikedPosts');\r\n\r\n    let params = {};\r\n\r\n    params['liked'] = true;\r\n\r\n    if(pageNumber!=null) params['pageNumber']=pageNumber;\r\n\r\n    if(pageSize!=null) params['pageSize']=pageSize;\r\n\r\n    if(postParams!=null){\r\n        if(postParams.category != null) params['category']=postParams.category;\r\n        if(postParams.orderBy != null) params['orderBy']=postParams.orderBy;\r\n    }\r\n\r\n    let query = Object.keys(params)\r\n        .map(k => k + '=' + params[k])\r\n        .join('&');\r\n\r\n    return fetch(baseUrl + `posts/liked/${userId}?` + query)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(posts => {\r\n                // dispatch(addPosts(posts));\r\n\r\n                let paginationHeader = response.headers.get('Pagination');\r\n                let pagination = null;\r\n                if(paginationHeader){\r\n                    pagination = JSON.parse(paginationHeader);\r\n                }\r\n\r\n                if(onSuccess){\r\n                    onSuccess(posts, pagination);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        // dispatch(postsFailed(error.message));\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const fetchUserPosts = (userId, pageNumber, pageSize, postParams, \r\n    onSuccess, onError) => (dispatch, getState) => {\r\n\r\n    let params = {};\r\n\r\n    params['userPosts'] = true;\r\n\r\n    if(pageNumber!=null) params['pageNumber']=pageNumber;\r\n\r\n    if(pageSize!=null) params['pageSize']=pageSize;\r\n\r\n    if(postParams!=null){\r\n        if(postParams.category != null) params['category']=postParams.category;\r\n        if(postParams.orderBy != null) params['orderBy']=postParams.orderBy;\r\n    }\r\n\r\n    let query = Object.keys(params)\r\n        .map(k => k + '=' + params[k])\r\n        .join('&');\r\n\r\n    return fetch(baseUrl + `posts/userPosts/${userId}?` + query)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(posts => {\r\n                // dispatch(addPosts(posts));\r\n\r\n                let paginationHeader = response.headers.get('Pagination');\r\n                let pagination = null;\r\n                if(paginationHeader){\r\n                    pagination = JSON.parse(paginationHeader);\r\n                }\r\n\r\n                if(onSuccess){\r\n                    onSuccess(posts, pagination);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                // dispatch(postsFailed(error.message));\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        // dispatch(postsFailed(error.message));\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}\r\n\r\nexport const fetchTags = (tagParams, onSuccess, onError) => (dispatch) => {\r\n    let params = {};\r\n\r\n    if(tagParams!=null){\r\n        if(tagParams.orderBy != null) params['orderBy']=tagParams.orderBy;\r\n        if(tagParams.maxReturnNumber != null) params['maxReturnNumber']=tagParams.maxReturnNumber;\r\n        if(tagParams.minCount != null) params['minCount']=tagParams.minCount;\r\n    }\r\n\r\n    let query = Object.keys(params)\r\n        .map(k => k + '=' + params[k])\r\n        .join('&');\r\n\r\n    return fetch(baseUrl + 'tags?' + query)\r\n    .then(response => {\r\n\r\n        if(response.ok){\r\n            response.json()\r\n            .then(tags => {\r\n                if(onSuccess){\r\n                    onSuccess(tags);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            handleFetchResponseNotOkError(response,\r\n            error=>{\r\n                if(onError){\r\n                    onError(error);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    error => {\r\n        throw error;\r\n    })\r\n    .catch(error => {\r\n        if(onError){\r\n            onError(error);\r\n        }\r\n    });\r\n}","export const VALUES_LOADING = 'VALUES_LOADING';\r\nexport const VALUES_FAILED = 'VALUES_FAILED';\r\nexport const ADD_VALUES = 'ADD_VALUES';\r\n\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST';\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\r\n// export const LOGOUT_FAILURE = 'LOGOUT_FAILURE';\r\n\r\n// export const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\r\n// export const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\n// export const SIGNUP_FAILURE = 'SIGNUP_FAILURE';\r\n\r\nexport const USERS_LOADING = 'USERS_LOADING';\r\nexport const USERS_FAILED = 'USERS_FAILED';\r\nexport const ADD_USERS = 'ADD_USERS';\r\nexport const ADD_USER = 'ADD_USER';\r\n\r\nexport const ADD_AUTH_USER = 'ADD_AUTH_USER';\r\n// export const POSTS_LOADING = 'POSTS_LOADING';\r\n// export const POSTS_FAILED = 'POSTS_FAILED';\r\n// export const ADD_POSTS = 'ADD_POSTS';\r\n\r\nexport const SET_USER_MAIN_PHOTO_URL = 'SET_USER_MAIN_PHOTO_URL';\r\n\r\n\r\nexport const AUTH_USER_LIKE_POST = 'AUTH_USER_LIKE_POST';\r\nexport const AUTH_USER_CANCEL_LIKED_POST = 'AUTH_USER_CANCEL_LIKED_POST';\r\nexport const AUTH_USER_DISLIKE_POST = 'AUTH_USER_DISLIKE_POST';\r\nexport const AUTH_USER_CANCEL_DISLIKED_POST = 'AUTH_USER_CANCEL_DISLIKED_POST';\r\n// export const UPLOAD_FILE = 'UPLOAD_FILE';","import React from 'react';\r\n\r\nexport const Loading = (props) => {\r\n    return(\r\n        <div className=\"col-12\">\r\n            <span className=\"fa fa-spinner fa-pulse fa-3x fa-fw text-primary\"></span>\r\n            <p>{props.text?props.text:\"Loading . . .\"}</p>\r\n        </div>\r\n    );\r\n};","import alertify from 'alertifyjs';\r\n\r\nclass AlertifyService {\r\n    constructor(){\r\n        \r\n    }\r\n\r\n    confirm(message, okCallback){\r\n        alertify.confirm(message, function(e){\r\n            if(e){\r\n                okCallback();\r\n            }else{\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    success(message){\r\n        alertify.success(message);\r\n    }\r\n\r\n    error(message){\r\n        alertify.error(message);\r\n    }\r\n\r\n    warning(message){\r\n        alertify.warning(message);\r\n    }\r\n\r\n    message(message){\r\n        alertify.message(message);\r\n    }\r\n}\r\n\r\nexport const alertifyService = new AlertifyService();","import React, { Component } from 'react';\r\nimport { postCategoryOptions, defaultTags } from \"../shared/global\";\r\nimport styles from \"./HomeComponent.module.scss\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { fetchTags } from '../redux/ActionCreators';\r\nimport { connect } from 'react-redux';\r\nimport { alertifyService } from '../services/AlertifyService';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    \r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchTags: (tagParams, onSuccess, onError) => { dispatch(fetchTags(tagParams, onSuccess, onError)) }\r\n});\r\n\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            postParams:{\r\n                category: \"\",\r\n                search: \"\"\r\n            },\r\n\r\n            trendingTags:defaultTags\r\n        };\r\n\r\n        this.onClickTagButton = this.onClickTagButton.bind(this);\r\n        this.handleInputChangePostParamsForm = this.handleInputChangePostParamsForm.bind(this);\r\n\r\n        this.handleSubmitPostParamsForm = this.handleSubmitPostParamsForm.bind(this);\r\n    }\r\n\r\n    // registerToggle(){\r\n    //     this.setState({\r\n    //         registerMode: true \r\n    //     });\r\n    // }\r\n\r\n    // cancelRegisterMode(){\r\n    //     console.log('HomeComponent.cancelRegisterMode');\r\n    //     this.setState({\r\n    //         registerMode: false \r\n    //     });\r\n    // }\r\n    componentDidMount(){\r\n        setTimeout(this.props.fetchTags(\r\n            {\r\n                orderBy:\"count\",\r\n                maxReturnNumber: 20,\r\n                minCount: 2\r\n            },\r\n            (tags)=>{                    \r\n                alertifyService.success('Fetched trending tags successfully!'); \r\n                console.log(tags);\r\n                tags = tags.map(tag=>{ return tag.value});\r\n\r\n                let trendingTags = this.state.trendingTags;\r\n                for(let i=0; i<tags.length; i++){\r\n                    let tag = tags[i];\r\n                    if(trendingTags.indexOf(tag)==-1){\r\n                        trendingTags.push(tag);\r\n\r\n                        if(trendingTags.length>=20){\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    trendingTags: trendingTags\r\n                });\r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n    }\r\n\r\n    handleInputChangePostParamsForm(event){\r\n\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            postParams: {...this.state.postParams, \r\n                [name]: value\r\n            }\r\n        });\r\n    }\r\n\r\n    onClickTagButton(tag){\r\n        console.log('HomeComponent.onClickTagButton', tag);\r\n        this.props.history.push({\r\n            pathname:'/search',\r\n            state:{\r\n                search: tag\r\n            } \r\n        });\r\n    }\r\n\r\n    handleSubmitPostParamsForm(event){\r\n        event.preventDefault();\r\n        this.props.history.push({\r\n            pathname:'/search',\r\n            state:{\r\n                search: this.state.postParams.search,\r\n                category: this.state.postParams.category\r\n            } \r\n        });\r\n    }\r\n\r\n    render(){\r\n        console.log('registerMode: '+this.state.registerMode);\r\n\r\n        return (\r\n            <div className={styles.background}>\r\n         \r\n            <div className={styles.center} >\r\n         \r\n                <div className=\"container\" >\r\n                {/* <div className={\"jumbotron jumbotron-fluid \"+styles.jumbotron}>\r\n                    <div className=\"container text-left\" >\r\n                        <h1 className=\"display-4 text-white\">Best CS Study</h1>\r\n                        <p className=\"lead text-white\">Knowledge is infinite while time is limited. Here you can find the most efficient way to learn your desired skillset.</p>\r\n                       \r\n                    </div>\r\n                </div> */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-8 offset-lg-2\">\r\n                            <div className=\"px-2\">\r\n                                <h1 className=\"\" >Best CS Study</h1>\r\n                                <p >Knowledge is infinite while time is limited. Here you can find the most efficient way to learn your desired skillset.</p>\r\n                             \r\n                                <form noValidate>\r\n                                    <div className=\"input-group\">\r\n                                        <input className=\"form-control input-sm\" type=\"text\" placeholder=\"Web Development\"\r\n                                            name=\"search\"\r\n                                            value={this.state.postParams.search}\r\n                                            onChange={this.handleInputChangePostParamsForm}\r\n                                        />\r\n                                \r\n                                        <div className=\"input-group-append\">\r\n                                            <select className=\"form-control\" style={{borderRadius:'0'}}\r\n                                                name=\"category\"\r\n                                                value={this.state.postParams.category}\r\n                                                onChange={this.handleInputChangePostParamsForm}\r\n                                            >\r\n                                                <option key={\"all\"} value={\"\"}>\r\n                                                    { \"All\" }\r\n                                                </option>\r\n                                                {\r\n                                                    postCategoryOptions.map(category=>{\r\n                                                        return (\r\n                                                            <option key={category.value} value={category.value}>\r\n                                                                { category.display }\r\n                                                            </option>\r\n                                                        );\r\n                                                    })\r\n                                                }\r\n                                            </select>   \r\n                                            <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleSubmitPostParamsForm}>Search</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-10 offset-lg-1\">\r\n                            <div className=\"px-2\">\r\n                                <hr className=\"mt-5 mb-5\"></hr>\r\n                                <h3 >Popular Topics</h3>\r\n                                <div className=\"row\" >\r\n                                    {\r\n                                        this.state.trendingTags.map((tag,index)=>{\r\n                                            return (\r\n                                                <div key={index} className=\"col-4 col-lg-3 px-1 py-1\">\r\n                                                    <button className=\"btn btn-outline-primary btn-block\"\r\n                                                        onClick={(e)=>{this.onClickTagButton(tag);}}\r\n                                                    >{tag}</button>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                     \r\n                    </div>\r\n                </div>\r\n            \r\n              \r\n              \r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n  \r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));","import React, { Component } from 'react';\r\nimport { Dropdown, Button, Modal } from 'react-bootstrap';\r\nimport styles from './HeaderComponent.module.scss';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser, logoutUser, fetchAuthUser } from '../redux/ActionCreators';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ImgUser from '../shared/img/user.png';\r\n// import Register from './RegisterComponent';\r\n// import Login from './LoginComponent';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: (creds, onSuccess, onError) => { dispatch(loginUser(creds, onSuccess, onError)) },\r\n    fetchAuthUser: (id, onSuccess, onError) => { dispatch(fetchAuthUser(id, onSuccess, onError)) },\r\n    logoutUser: (onSuccess, onError) => { dispatch(logoutUser(onSuccess, onError)) }\r\n});\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            modal: {\r\n                show: false,\r\n                type: ''\r\n            }\r\n           \r\n        };\r\n\r\n        this.handleClickEditProfileLink = this.handleClickEditProfileLink.bind(this);\r\n        this.handleClickLogoutLink = this.handleClickLogoutLink.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.auth.isAuthenticated){\r\n            this.props.fetchAuthUser(this.props.auth.user.id,\r\n                (user)=>{\r\n                    alertifyService.success('Fetched auth user successfully!');\r\n                },\r\n                err=>{\r\n                    alertifyService.success('Failed to fetch auth user!');\r\n                });\r\n        }\r\n    }\r\n\r\n    handleClickLogoutLink(event){\r\n        this.props.logoutUser(\r\n            ()=>{\r\n                alertifyService.message('Logged out successfully!');\r\n                // this.props.history.push('/home');\r\n            }\r\n        );\r\n    }\r\n\r\n    handleClickEditProfileLink(event){\r\n        this.props.history.push(\"/member/edit\");\r\n    }\r\n\r\n    // showModal(type){\r\n    //     this.setState({\r\n    //         modal: {...this.state.modal, show:true, type:type}\r\n    //     });\r\n    // }\r\n\r\n    // hideModal(){\r\n    //     console.log(\"HeaderComponent.hideModal\");\r\n    //     this.setState({\r\n    //         modal: {...this.state.modal, show:false}\r\n    //     });\r\n    // }\r\n\r\n    render() {\r\n\r\n        // let {errorsLoginForm, validLoginForm} = this.validateLoginForm();\r\n\r\n        return(\r\n            <nav className=\"navbar navbar-expand-md navbar-dark bg-primary\">\r\n                <div className=\"container\">\r\n                    <Link to=\"/home\" className=\"navbar-brand\">Best CS Study</Link>\r\n  \r\n                    \r\n                        <ul className=\"navbar-nav mr-auto\">\r\n                            <li className=\"nav-item\" >                                \r\n                                <NavLink to=\"/search\" className=\"nav-link\" activeClassName=\"active\">Search</NavLink>\r\n                            </li>\r\n                            {\r\n                                this.props.auth.isAuthenticated?\r\n                                <li className=\"nav-item\" >\r\n                                    <NavLink to=\"/likedPosts\" className=\"nav-link\" activeClassName=\"active\">Liked</NavLink>\r\n                                </li>\r\n                                : null\r\n                            }\r\n                            {\r\n                                this.props.auth.isAuthenticated?\r\n                                <li className=\"nav-item\" >\r\n                                    <NavLink to={`/userPosts/${this.props.auth.user.id}`} className=\"nav-link\" activeClassName=\"active\">My Posts</NavLink>\r\n                                </li>\r\n                                : null\r\n                            }\r\n                        </ul>\r\n                       \r\n                        {\r\n                            this.props.auth.isAuthenticated?       \r\n                            <Link to={`/createPost`}>\r\n                                <button className=\"btn btn-success my-2 my-sm-0 mr-3\">Create New Post</button>\r\n                            </Link>\r\n                            : null\r\n                        }\r\n                        {\r\n                            this.props.auth.isAuthenticated?\r\n                            <Dropdown>\r\n                                <span className=\"mr-2\">\r\n                                    <img className={styles.imgUser} src={this.props.auth.user.mainPhotoUrl || ImgUser} alt=\"\"/>\r\n                                </span>\r\n                                <Dropdown.Toggle as=\"a\" className={styles.dropdownToggle + \" text-light\"}>\r\n                                    Welcome {this.props.auth.decodedToken.unique_name}\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu as=\"div\" className=\"mt-3\">\r\n                                    <Dropdown.Item as=\"a\" className={styles.dropdownItem} onClick={this.handleClickEditProfileLink }>\r\n                                        <i className=\"fas fa-user mr-1\"></i> Edit Profile                                 \r\n                                    </Dropdown.Item>\r\n                                    <Dropdown.Item as=\"a\" className={styles.dropdownItem} onClick={this.handleClickLogoutLink}>\r\n                                        <i className=\"fas fa-sign-out-alt mr-1\"></i> Logout\r\n                                    </Dropdown.Item>\r\n\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n                    \r\n                            : null\r\n                        }\r\n                        {\r\n                            !this.props.auth.isAuthenticated?\r\n                            <button className=\"btn btn-info my-2 my-sm-0 mr-3\" onClick={() => this.props.showModal('login')}>Log In</button>\r\n                            : null\r\n                        }\r\n                        {\r\n                            !this.props.auth.isAuthenticated?\r\n                            <button className=\"btn btn-success my-2 my-sm-0\" onClick={() => this.props.showModal('register')}>Sign Up</button>\r\n                            : null\r\n                        }\r\n                </div>\r\n\r\n\r\n                {/* <Modal\r\n                    show={this.state.modal.show}\r\n                    onHide={this.hideModal}\r\n                    animation={true}\r\n                    backdrop={'static'}\r\n                    centered\r\n                    scrollable={true}\r\n                >\r\n                    <Modal.Body className=\"mx-4\">\r\n                        {\r\n                            this.state.modal.type=='login'?\r\n                            <Login close={this.hideModal}/>\r\n                            :null\r\n                        }\r\n                        {\r\n                            this.state.modal.type=='register'?\r\n                            <Register close={this.hideModal}/>\r\n                            : null\r\n                        }\r\n                       \r\n                    </Modal.Body>\r\n                </Modal> */}\r\n            </nav>\r\n        );\r\n    };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));","import React, { Component } from 'react';\r\nimport styles from './FooterComponent.module.scss';\r\n\r\nclass Footer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <footer className={\"footer \"+styles.footer}>\r\n                {/* <div className=\"container\"> */}\r\n                    <span className=\"text-muted\">Copyright © Atom Cai 2019</span>\r\n                {/* </div> */}\r\n            </footer>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react'\r\nimport styles from './MemberCardComponent.module.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport ImgUser from '../../shared/img/user.png';\r\n// import { connect } from 'react-redux';\r\n// import { sendLike } from '../../redux/ActionCreators';\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//     sendLike: (id, recipientId, onSuccess, onError) => { dispatch(sendLike(id, recipientId, onSuccess, onError)); }\r\n// });\r\n\r\nclass MemberCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n       \r\n    }\r\n\r\n    handleClickLikeButton(){\r\n\r\n    }\r\n\r\n    render() { \r\n        return(\r\n            <div className={\"card mb-4 \"+styles.card}>\r\n                <div className={styles.cardImgWrapper}>\r\n                    <img className=\"card-img-top\" src={this.props.user.photoUrl || ImgUser} alt={this.props.user.knownAs}/>\r\n                    <ul className={\"list-inline text-center \" + styles.memberIcons + \" \" + styles.animate}>\r\n                    \r\n                        <li className=\"list-inline-item\">\r\n                            <Link to={`/members/${this.props.user.id}`}><button className=\"btn btn-primary\"><i className=\"fa fa-user\"></i></button></Link>\r\n                        </li>\r\n                        <li className=\"list-inline-item\">\r\n                            <button className=\"btn btn-primary\"\r\n                                onClick={this.props.handleClickLikeButton}\r\n                            ><i className=\"fa fa-heart\"></i>\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"list-inline-item\">\r\n                            <Link to={`/members/${this.props.user.id}?tab=messages`}><button className=\"btn btn-primary\"><i className=\"fa fa-envelope\"></i></button></Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"card-body p-1\">\r\n                    <h6 className=\"card-title text-center mb-1\">\r\n                        <i className=\"fa fa-user\"></i> {this.props.user.knownAs}, {this.props.user.age}\r\n                    </h6>\r\n                    <p className=\"card-text text-muted text-center\">{this.props.user.city}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MemberCard;\r\n// export default connect(null, mapDispatchToProps)(MemberCard);","import React, { Component } from 'react'\r\nimport MemberCard from './member/MemberCardComponent';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { fetchUsers, sendLike } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUsers: (pageNumber, pageSize, userParams, onSuccess, onError) => { dispatch(fetchUsers(pageNumber, pageSize, userParams, onSuccess, onError)); },\r\n    sendLike: (id, recipientId, onSuccess, onError) => { dispatch(sendLike(id, recipientId, onSuccess, onError)); }\r\n});\r\n\r\nclass Lists extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            users: [],\r\n            userParams:{\r\n                likers: false,\r\n                likees: true\r\n            },\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            }\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleToggleUsersParams = this.handleToggleUsersParams.bind(this);\r\n        this.handleClickLikeUserButton = this.handleClickLikeUserButton.bind(this);\r\n    }\r\n\r\n    loadUsers(pageIndex){\r\n        this.props.fetchUsers(\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.userParams,\r\n            (users, pagination)=>{\r\n            \r\n                alertifyService.success('Fetched users successfully!');\r\n                \r\n                this.setState({\r\n                    users: users,\r\n                    pagination:pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n           this.loadUsers(this.state.pagination.currentPage);\r\n        },1);\r\n    }\r\n\r\n    handleToggleUsersParams(param){\r\n\r\n        this.setState({\r\n            userParams: {...this.state.userParams, \r\n                likers: param=='likers',\r\n                likees: param=='likees'\r\n            }\r\n        });\r\n        \r\n        setTimeout(()=>{\r\n            this.loadUsers(this.state.pagination.currentPage);\r\n         },1);\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        this.loadUsers(pageIndex);\r\n    }\r\n\r\n    handleClickLikeUserButton(recipient){\r\n        this.props.sendLike(this.props.authUser.id, recipient.id,\r\n            ()=>{\r\n                alertifyService.success(`You have liked ${recipient.knownAs}!`);\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }); \r\n    }\r\n\r\n    render() {\r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"text-center my-4\">\r\n                        <h2>{this.state.userParams.likers? 'Members who like me' : 'Members who I\\'ve Liked'} : {this.state.pagination.totalItems}</h2>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"btn-group\">\r\n                            <button className={\"btn btn-primary \"+(this.state.userParams.likers?\"active\":\"\")} name=\"likers\" onClick={(e)=>{this.handleToggleUsersParams('likers')}}>Members who like me</button>\r\n                            <button className={\"btn btn-primary \"+(this.state.userParams.likees?\"active\":\"\")} name=\"likees\" onClick={(e)=>{this.handleToggleUsersParams('likees')}}>Members who I like</button>\r\n                        </div>\r\n                    </div>\r\n                    <br/>\r\n                    <div className=\"row\">\r\n                        {\r\n                            this.state.users.map(user=>{\r\n                                return (\r\n                                    <div className=\"col-sm-6 col-md-4 col-lg-4 col-xl-2\" key={user.id} >\r\n                                        <MemberCard \r\n                                            user={user}\r\n                                            handleClickLikeButton={(e)=>{this.handleClickLikeUserButton(user)}}\r\n                                        />\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n              \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Lists);","import React, { Component } from 'react'\r\nimport MemberCard from './MemberCardComponent';\r\nimport { alertifyService } from '../../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { fetchUsers, sendLike } from '../../redux/ActionCreators';\r\nimport { Pagination } from 'react-bootstrap';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user,\r\n        users: state.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUsers: (pageNumber, pageSize, userParams, onSuccess, onError) => { dispatch(fetchUsers(pageNumber, pageSize, userParams, onSuccess, onError)); },\r\n    sendLike: (id, recipientId, onSuccess, onError) => { dispatch(sendLike(id, recipientId, onSuccess, onError)); }\r\n});\r\n\r\nconst genderOptions = [{value:'male', display:'Male'}, {value:'female', display:'Female'}]\r\nconst orderByOptions = [{value:'created', display:'Created Time'}, {value:'lastActive', display:'Last Active Time'}]\r\n\r\nclass MemberList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props.users);\r\n\r\n        this.state = {\r\n            // usersParamsForm:{\r\n\r\n            // },\r\n            userParams:{\r\n                gender: this.props.authUser.gender == 'female'? 'male' : 'female',\r\n                minAge: 0,\r\n                maxAge: 200,\r\n                orderBy: 'lastActive'\r\n            },\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            }\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.resetFilter = this.resetFilter.bind(this);\r\n        this.handleInputChangeUsersParamsForm = this.handleInputChangeUsersParamsForm.bind(this);\r\n        this.handleSubmitUsersParamsForm = this.handleSubmitUsersParamsForm.bind(this);\r\n        this.handleClickLikeUserButton = this.handleClickLikeUserButton.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"MemberList.componentDidMount\");\r\n        \r\n        setTimeout(()=>{\r\n           this.loadUsers(this.state.pagination.currentPage);\r\n        },1);\r\n\r\n    }\r\n\r\n    resetFilter(){\r\n        this.setState({\r\n            userParams:{\r\n                gender: this.props.authUser.gender == 'female'? 'male' : 'female',\r\n                minAge: 18,\r\n                maxAge: 99,\r\n                orderBy: 'lastActive'\r\n            }\r\n        });\r\n\r\n        setTimeout(()=>{\r\n           this.loadUsers(this.state.pagination.currentPage);\r\n        },1);\r\n    }\r\n\r\n    handleInputChangeUsersParamsForm(event){\r\n\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n\r\n        this.setState({\r\n            userParams: {...this.state.userParams, \r\n                [name]: value\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    handleSubmitUsersParamsForm(event){\r\n        event.preventDefault();\r\n\r\n        this.loadUsers(this.state.pagination.currentPage);\r\n    }\r\n\r\n    loadUsers(pageIndex){\r\n        console.log('MemberListComponent.loadUsers',this.state.userParams);\r\n        this.props.fetchUsers(\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.userParams,\r\n            (users, pagination)=>{\r\n                alertifyService.success('Fetched users successfully!');\r\n                \r\n                this.setState({\r\n                    pagination:pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        console.log('MemeberListComponent.handleChangePage', pageIndex);\r\n        // this.setState({\r\n        //     pagination: {...this.state.pagination, currentPage:pageIndex}\r\n        // });\r\n        \r\n        this.loadUsers(pageIndex);\r\n    }\r\n\r\n    handleClickLikeUserButton(recipient){\r\n        this.props.sendLike(this.props.authUser.id, recipient.id,\r\n            ()=>{\r\n                alertifyService.success(`You have liked ${recipient.knownAs}!`);\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }); \r\n    }\r\n\r\n    render() {\r\n        \r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"text-center my-4\">\r\n                        <h2>Your matches - {this.state.pagination.totalItems} found</h2>\r\n                    </div>\r\n                    <form className=\"form-inline my-1\" noValidate onSubmit={this.handleSubmitUsersParamsForm}>\r\n                        <div className=\"form-group px-2\">\r\n                            <label className=\"mr-1\">Age From</label>\r\n                            <input type=\"number\" className=\"form-control ml-1\" style={{width: \"70px\"}} id=\"minAge\" name=\"minAge\"\r\n                                value={this.state.userParams.minAge}\r\n                                onChange={this.handleInputChangeUsersParamsForm}\r\n                            />\r\n                        </div>\r\n                    \r\n                        <div className=\"form-group px-2\">\r\n                            <label className=\"mr-1\">Age To</label>\r\n                            <input type=\"number\" className=\"form-control ml-1\" style={{width: \"70px\"}}id=\"maxAge\" name=\"maxAge\"\r\n                                value={this.state.userParams.maxAge}\r\n                                onChange={this.handleInputChangeUsersParamsForm}\r\n                            />\r\n                        </div>\r\n                    \r\n                        <div className=\"form-group px-2\">\r\n                            <label className=\"mr-1\">Show</label>\r\n                            <select className=\"form-control ml-1\" style={{width: \"108px\"}} id=\"gender\" name=\"gender\"\r\n                                value={this.state.userParams.gender}\r\n                                onChange={this.handleInputChangeUsersParamsForm}\r\n                            >\r\n                                {\r\n                                    genderOptions.map(gender=>{\r\n                                        return (\r\n                                            <option key={gender.value} value={gender.value}>\r\n                                                { gender.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n\r\n                        \r\n                        <div className=\"form-group px-2\">\r\n                            <label className=\"mr-1\">Order By</label>\r\n                            <select className=\"form-control ml-1\" style={{width: \"166px\"}} id=\"orderBy\" name=\"orderBy\"\r\n                                value={this.state.userParams.orderBy}\r\n                                onChange={this.handleInputChangeUsersParamsForm}\r\n                            >\r\n                                {\r\n                                    orderByOptions.map(orderBy=>{\r\n                                        return (\r\n                                            <option key={orderBy.value} value={orderBy.value}>\r\n                                                { orderBy.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn btn-primary\" style={{marginLeft:\"10px\"}}>Apply Filters</button>\r\n                        <button type=\"button\" className=\"btn btn-info\" style={{marginLeft:\"10px\"}}\r\n                            onClick={(e)=>{this.resetFilter()}}\r\n                        >Reset Filter</button>\r\n                    \r\n                    </form>\r\n                    <br/>\r\n                    <div className=\"row\">                    \r\n                        {\r\n                            this.props.users.users.map((user)=>{\r\n                                return(\r\n                                    <div key={user.id} className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                                        <MemberCard \r\n                                            user={user}\r\n                                            handleClickLikeButton={(e)=>{this.handleClickLikeUserButton(user)}}\r\n                                        />\r\n                                    </div>\r\n                                    // <p key={user.id}>{user.knownAs}</p>\r\n                                );\r\n                            })\r\n                        }                 \r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberList);","export const required = (val) => val && val.length;\r\nexport const maxLength = (len) => (val) => !(val) || (val.length <= len);\r\nexport const minLength = (len) => (val) => val && (val.length >= len); \r\nexport const validDate = (val) => /\\d{4}-\\d{2}-\\d{2}/.test(val);","import React, { Component } from 'react'\r\nimport { fetchMessageThread, sendMessage, markMessageAsRead } from '../../redux/ActionCreators';\r\nimport { alertifyService } from '../../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport styles from './MemberMessagesComponent.module.scss';\r\nimport TimeAgo from 'react-timeago'\r\nimport { required } from '../../shared/validators';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchMessageThread: (id, recipientId, onSuccess, onError) => { dispatch(fetchMessageThread(id, recipientId, onSuccess, onError)); },\r\n    sendMessage: (id, message, onSuccess, onError) => { dispatch(sendMessage(id, message, onSuccess, onError)); },\r\n    markMessageAsRead: (userId, messageId, onSuccess, onError) => { dispatch(markMessageAsRead(userId, messageId, onSuccess, onError)); }\r\n});\r\nclass MemberMessages extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            messages: [],\r\n            newMessage: {\r\n                content: ''\r\n            }\r\n        }\r\n\r\n        this.handleInputChangeNewMessage = this.handleInputChangeNewMessage.bind(this);\r\n        this.handleSendNewMessage = this.handleSendNewMessage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n           this.loadMessages();\r\n        },1);\r\n    }\r\n\r\n    loadMessages(){\r\n        this.props.fetchMessageThread(\r\n            this.props.authUser.id,\r\n            this.props.recipientId,\r\n            (messages)=>{\r\n                alertifyService.success(`Fetched message thread successfully!`);\r\n                \r\n                this.setState({\r\n                    messages: messages\r\n                });\r\n\r\n                for(let i=0; i< messages.length; i++){\r\n                    if(messages[i].isRead == false \r\n                        && messages[i].recipientId == this.props.authUser.id)\r\n                    {\r\n                        this.props.markMessageAsRead(this.props.authUser.id, messages[i].id,\r\n                            ()=>{\r\n                                alertifyService.success(`Marked message ${messages[i].id} as read successfully!`);\r\n                            },\r\n                            (error)=>{\r\n                                alertifyService.error(error.message);\r\n                            });\r\n                    }\r\n                }\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleInputChangeNewMessage(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        // console.log(this.state.loginForm);\r\n\r\n        this.setState({\r\n            newMessage: {...this.state.newMessage, \r\n                [name]: value\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    handleSendNewMessage(e){\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            newMessage: {...this.state.newMessage, \r\n                recipientId: this.props.recipientId\r\n            }\r\n        });\r\n\r\n        setTimeout(()=>{\r\n            this.props.sendMessage(this.props.authUser.id,\r\n                this.state.newMessage,\r\n                (message)=>{\r\n                    let messages = this.state.messages;\r\n                    messages.push(message);\r\n                    this.setState({\r\n                        messages:messages,\r\n                        newMessage:{content:''}\r\n                    });\r\n    \r\n                    alertifyService.success(`Sent message successfully!`);\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                });\r\n         },1);\r\n       \r\n    }\r\n\r\n\r\n\r\n    render() { \r\n        return(\r\n            <div className={\"card \"+styles.card}>\r\n              <div className={\"card-body \"+styles.cardBody}>\r\n               {\r\n                    this.state.messages.length == 0?\r\n                    <div>\r\n                       <p>No messages yet... say hi using the message box below</p>\r\n                    </div>\r\n                    :\r\n                    <ul className={\"chat \"+styles.chat}>\r\n                    {\r\n                        this.state.messages.map(message=>{\r\n                            return(\r\n                            <li key={message.id}>\r\n                                {\r\n                                    message.senderId==this.props.recipientId?\r\n                                    <div>\r\n                                        <span className=\"chat-img float-left\">\r\n                                            <img src={message.senderPhotoUrl} alt={message.senderKnownAs} className={\"rounded-circle mr-2 \"+styles.roundedCircle}>\r\n                                            </img>\r\n                                        </span>\r\n                                        <div className=\"chat-body\">\r\n                                            <div className=\"header\">\r\n                                                <strong className=\"primary-font\">{message.senderKnownAs}</strong>\r\n                                                <small className=\"text-muted float-right\">\r\n                                                    <span className=\"fa fa-clock-o\"> <TimeAgo date={message.messageSent} live={false}/> </span>\r\n                                                </small>\r\n                                            </div>\r\n                                            <p>{message.content}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    :\r\n                                    <div>\r\n                                        <span className=\"chat-img float-right\">\r\n                                            <img src={message.senderPhotoUrl} alt={message.senderKnownAs} className={\"rounded-circle ml-2 \"+styles.roundedCircle}>\r\n                                            </img>\r\n                                        </span>\r\n                                        <div className=\"chat-body\">\r\n                                            <div className=\"header\">\r\n                                                <small className=\"text-muted\">\r\n                                                    <span className=\"fa fa-clock-o\"> <TimeAgo date={message.messageSent} live={false}/> </span>\r\n                                                    {\r\n                                                        message.isRead?\r\n                                                        <span className=\"text-success\"> (read)</span>\r\n                                                        :\r\n                                                        <span className=\"text-danger\"> (unread)</span>\r\n                                                    }\r\n                                                    \r\n                                                </small>\r\n                                                <strong className=\"primary-font float-right\">{message.senderKnownAs}</strong>\r\n                                         \r\n                                            </div>\r\n                                            <p>{message.content}</p>\r\n                                        </div>                                      \r\n                                    </div>\r\n                                }\r\n                            </li>\r\n                            );\r\n                        })\r\n                    }\r\n                    </ul>\r\n               }\r\n               </div>\r\n               <div className=\"card-footer\">\r\n                    <form onSubmit={this.handleSendNewMessage}>\r\n                        <div className=\"input-group\">\r\n                            <input className=\"form-control input-sm\" type=\"text\" placeholder=\"send a private message\"\r\n                                name=\"content\"\r\n                                value={this.state.newMessage.content}\r\n                                onChange={this.handleInputChangeNewMessage}\r\n                                onBlur={(e)=>{}}\r\n                            />\r\n                            <div className=\"input-group-append\">\r\n                                <button type=\"submit\" className=\"btn btn-primary\" disabled={!required(this.state.newMessage.content)}>Send</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberMessages);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { fetchUser } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport styles from './MemberDetailsComponent.module.scss';\r\nimport { Tabs, Tab } from 'react-bootstrap';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ImgUser from '../shared/img/user.png';\r\nimport TimeAgo from 'react-timeago'\r\nimport MemberMessages from './member/MemberMessagesComponent';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport { defaultDatetimeValue } from '../shared/global';\r\n// import './MemberDetailsComponent.scss';\r\n// import '../../App.css';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUser: (id, onSuccess, onError) => { dispatch(fetchUser(id, onSuccess, onError)); }\r\n});\r\n\r\nclass MemberDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let initTab = queryString.parse(this.props.location.search).tab;\r\n      \r\n        this.state = {\r\n            user:null,\r\n            tab:initTab?initTab:'profile'\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('MemberDetails.componentDidMount');\r\n        setTimeout(this.props.fetchUser(\r\n            this.props.match.params.id,\r\n            (user)=>{                    \r\n                alertifyService.success('Fetched user '+this.props.match.params.id+' successfully!'); \r\n                console.log(user);                  \r\n                this.setState({\r\n                    user: user\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n    }\r\n\r\n    render() { \r\n        if(this.state.user)\r\n        console.log((new Date(this.state.user.dateOfBirth)).valueOf());\r\n        const photos = this.state.user? this.state.user.photos.map((photo)=>{\r\n            return  {\r\n                original: photo.url,\r\n                thumbnail: photo.url\r\n            };\r\n        }):null;\r\n\r\n        return(\r\n            <div className=\"container mt-4\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <h1 className=\"text-left\">\r\n                            {this.state.user? this.state.user.username: ''}'s Profile\r\n                        </h1>\r\n                    </div>\r\n                                 \r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-4\">\r\n                        <div className=\"card\">\r\n                            <div className=\"p-3\">\r\n                            <img className=\"card-img-top img-thumbnail\" src={this.state.user?this.state.user.photoUrl||ImgUser:ImgUser} alt={this.state.user?this.state.user.knownAs:''}/>\r\n                            </div>\r\n                            <div className={\"card-body \"+styles.cardBody}>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Last Active At:</strong>\r\n                                    <p>{this.state.user?<TimeAgo date={this.state.user.lastActive} live={false}/>:null}</p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Register At:</strong>\r\n                                    <p>{this.state.user?(new Date(this.state.user.created)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'}):''}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* <div className={\"card-footer \"+styles.cardFooter}>\r\n                                <div className=\"btn-group d-flex\">\r\n                                    <button className=\"btn btn-primary w-100\">\r\n                                    <i className=\"far fa-thumbs-up\"></i> Like\r\n                                    </button>\r\n                                    <button className=\"btn btn-success w-100\" onClick={(e)=>{this.setState({tabKey:'messages'})}}>Message</button>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"col-sm-8\">\r\n                        <div className=\"tab-panel\">\r\n                            <Tabs className=\"member-tabs\" \r\n                                activeKey={this.state.tab}\r\n                                onSelect={key => this.setState({ tab: key })}\r\n                            >\r\n                                <Tab className=\"text-left \" eventKey=\"profile\" title={'About '+ (this.state.user?this.state.user.username:'')}>\r\n                                    <div className=\"mt-3 mx-2\">\r\n                                        <div className=\"row text-left\">\r\n                                            <label className=\"col-sm-2 font-weight-bold\">Introduction</label>\r\n                                            <div className=\"col-sm\">\r\n                                                <p>{this.state.user?this.state.user.introduction||\"This lazy user didn't write anything...\":''}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row text-left \">\r\n                                            <label className=\"col-sm-2 font-weight-bold\">Gender</label>\r\n                                            <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                <p>{this.state.user?this.state.user.gender||\"Unknown\":''}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row text-left \">\r\n                                            <label className=\"col-sm-2 font-weight-bold\">Date of Birth</label>\r\n                                            <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                <p>{this.state.user?\r\n                                                    (new Date(this.state.user.dateOfBirth)).valueOf()==defaultDatetimeValue?\"Unknown\":(new Date(this.state.user.created)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})\r\n                                                    :''}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row text-left \">\r\n                                            <label className=\"col-sm-2 font-weight-bold\">Country</label>\r\n                                            <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                <p>{this.state.user?this.state.user.country||\"Unknown\":''}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row text-left \">\r\n                                            <label className=\"col-sm-2 font-weight-bold\">City</label>\r\n                                            <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                <p>{this.state.user?this.state.user.city||\"Unknown\":''}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Tab>\r\n                                <Tab className=\"text-left\" eventKey=\"photos\" title=\"Photos\">\r\n                                    {\r\n                                        photos?\r\n                                        <div className={styles.imageGallery}>\r\n                                            <ImageGallery items={photos} showPlayButton={false} showFullscreenButton={false} useBrowserFullscreen={false}/>\r\n                                        </div>\r\n                                        :\r\n                                        <h4>Photos will go here</h4>\r\n                                    }\r\n                                </Tab>\r\n                                {/* {\r\n                                    this.state.user!=null && this.state.user.id != this.props.authUser.id?\r\n                                    <Tab className=\"text-left\" eventKey=\"messages\" title=\"Messages\">\r\n                                        <MemberMessages recipientId={this.state.user.id}/>\r\n                                    </Tab>\r\n                                    :null\r\n                                } */}\r\n                            </Tabs>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MemberDetails));","import React, { Component, useMemo, useCallback } from 'react'\r\nimport Dropzone, {useDropzone} from 'react-dropzone';\r\nimport { Loading } from './LoadingComponent';\r\n\r\nconst dropzoneStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderWidth: 2,\r\n    borderRadius: 2,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#bdbdbd',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n  };\r\n  \r\nconst dropzoneStyleActive = {\r\n  borderColor: '#2196f3'\r\n};\r\n\r\nconst dropzoneStyleAccept = {\r\n  borderColor: '#00e676'\r\n};\r\n\r\nconst dropzoneStyleReject = {\r\n  borderColor: '#ff1744'\r\n};\r\n\r\nfunction PhotoUploader(props) {\r\n\r\n    const onDrop = useCallback(acceptedFiles => {\r\n        props.handleDroppedFiles(acceptedFiles);\r\n    });\r\n\r\n    const {\r\n      acceptedFiles,\r\n      getRootProps,\r\n      getInputProps,\r\n      isDragActive,\r\n      isDragAccept,\r\n      isDragReject\r\n    } = useDropzone({onDrop, accept: 'image/*'});\r\n    \r\n    const style = useMemo(() => ({\r\n      ...dropzoneStyle,\r\n      ...(isDragActive ? dropzoneStyleActive : {}),\r\n      ...(isDragAccept ? dropzoneStyleAccept : {}),\r\n      ...(isDragReject ? dropzoneStyleReject : {})\r\n    }), [\r\n      isDragActive,\r\n      isDragReject\r\n    ]);\r\n\r\n    const files = props.files.map((file, index) => (\r\n      <div key={file.path} className=\"row\">\r\n        <div className=\"col-md-6 align-self-center\">\r\n          {file.path} ({file.size} bytes)\r\n        </div>\r\n        <div className=\"col-md-6 text-md-right my-1\">\r\n        \r\n          <button className=\"btn btn-sm btn-success mx-1\" onClick={(event)=>{props.handleUploadFile(index)}} disabled={props.isUploadingPhoto}>Upload</button>\r\n          <button className=\"btn btn-sm btn-danger mx-1\" onClick={(event)=>{props.handleRemoveFile(index)}} disabled={props.isUploadingPhoto}>Remove</button>\r\n  \r\n        </div>\r\n      </div>\r\n    ));\r\n  \r\n    return (\r\n      <div className=\"row mt-1\">\r\n        <div className=\"col-lg-4 mt-3\">\r\n          <h4>Add Photos</h4>\r\n          <div {...getRootProps({style})}>\r\n            <input {...getInputProps()} />\r\n            <i className=\"fa fa-upload fa-3x mt-1\"></i>\r\n            <p className=\"my-1\">Drop files or click to select files</p>\r\n          </div>\r\n        </div>\r\n        {\r\n          props.files.length>0?\r\n          <div className=\"col-lg-8 mt-3\">\r\n            <h4>Files to Upload</h4>\r\n            {\r\n              props.isUploadingPhoto?<Loading text=\"Uploading. . .\"/>:null\r\n            }\r\n            <div>{files}</div>\r\n          </div>\r\n          :null\r\n        }\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default PhotoUploader;","import React, { Component, useMemo, useCallback } from 'react'\r\nimport styles from './PhotoEditorComponent.module.scss';\r\nimport Dropzone, {useDropzone} from 'react-dropzone';\r\nimport { connect } from 'react-redux';\r\nimport { uploadUserPhoto, setUserMainPhoto, deleteUserPhoto, setUserMainPhotoUrl } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { Loading } from './LoadingComponent';\r\nimport PhotoUploader from './PhotoUploaderComponent';\r\n\r\n// const dropzoneStyle = {\r\n//     flex: 1,\r\n//     display: 'flex',\r\n//     flexDirection: 'column',\r\n//     alignItems: 'center',\r\n//     padding: '20px',\r\n//     borderWidth: 2,\r\n//     borderRadius: 2,\r\n//     borderColor: '#eeeeee',\r\n//     borderStyle: 'dashed',\r\n//     backgroundColor: '#fafafa',\r\n//     color: '#bdbdbd',\r\n//     outline: 'none',\r\n//     transition: 'border .24s ease-in-out'\r\n//   };\r\n  \r\n// const dropzoneStyleActive = {\r\n//   borderColor: '#2196f3'\r\n// };\r\n\r\n// const dropzoneStyleAccept = {\r\n//   borderColor: '#00e676'\r\n// };\r\n\r\n// const dropzoneStyleReject = {\r\n//   borderColor: '#ff1744'\r\n// };\r\n\r\n// function PhotoUploader(props) {\r\n\r\n//     const onDrop = useCallback(acceptedFiles => {\r\n//         props.handleDroppedFiles(acceptedFiles);\r\n//     });\r\n\r\n//     const {\r\n//       acceptedFiles,\r\n//       getRootProps,\r\n//       getInputProps,\r\n//       isDragActive,\r\n//       isDragAccept,\r\n//       isDragReject\r\n//     } = useDropzone({onDrop});\r\n    \r\n//     const style = useMemo(() => ({\r\n//       ...dropzoneStyle,\r\n//       ...(isDragActive ? dropzoneStyleActive : {}),\r\n//       ...(isDragAccept ? dropzoneStyleAccept : {}),\r\n//       ...(isDragReject ? dropzoneStyleReject : {})\r\n//     }), [\r\n//       isDragActive,\r\n//       isDragReject\r\n//     ]);\r\n\r\n//     const files = props.files.map((file, index) => (\r\n//       <div key={file.path} className=\"row\">\r\n//         <div className=\"col-md-6 align-self-center\">\r\n//           {file.path} ({file.size} bytes)\r\n//         </div>\r\n//         <div className=\"col-md-6 text-md-right my-1\">\r\n        \r\n//           <button className=\"btn btn-sm btn-success mx-1\" onClick={(event)=>{props.handleUploadFile(index)}} disabled={props.isUploadingPhoto}>Upload</button>\r\n//           <button className=\"btn btn-sm btn-danger mx-1\" onClick={(event)=>{props.handleRemoveFile(index)}} disabled={props.isUploadingPhoto}>Remove</button>\r\n  \r\n//         </div>\r\n//       </div>\r\n//     ));\r\n  \r\n//     return (\r\n//       <div className=\"row mt-3\">\r\n//         <div className=\"col-md-4 mt-2\">\r\n//           <h4>Add Photos</h4>\r\n//           <div {...getRootProps({style})}>\r\n//             <input {...getInputProps()} />\r\n//             <i className=\"fa fa-upload fa-3x mt-1\"></i>\r\n//             <p className=\"my-1\">Drop files or click to select files</p>\r\n//           </div>\r\n//         </div>\r\n//         {\r\n//           props.files.length>0?\r\n//           <div className=\"col-md-8 mt-2\">\r\n//             <h4>Files to Upload</h4>\r\n//             {\r\n//               props.isUploadingPhoto?<Loading text=\"Uploading. . .\"/>:null\r\n//             }\r\n//             <div>{files}</div>\r\n//           </div>\r\n//           :null\r\n//         }\r\n//       </div>\r\n//     );\r\n// }\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      auth: state.auth\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  uploadUserPhoto: (userId, file, onSuccess, onError) => { dispatch(uploadUserPhoto(userId, file, onSuccess, onError)) },\r\n  setUserMainPhoto: (userId, photoId, onSuccess, onError) => { dispatch(setUserMainPhoto(userId, photoId, onSuccess, onError)) },\r\n  setUserMainPhotoUrl: (url) => { dispatch(setUserMainPhotoUrl(url)) },\r\n  deleteUserPhoto: (userId, photoId, onSuccess, onError) => { dispatch(deleteUserPhoto(userId, photoId, onSuccess, onError)) }\r\n});\r\n\r\nclass PhotoEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n     \r\n        this.state = {\r\n            files: [],\r\n            isUploadingPhoto: false\r\n        };\r\n\r\n        this.handleDroppedFiles = this.handleDroppedFiles.bind(this);\r\n        this.handleUploadFile = this.handleUploadFile.bind(this);\r\n        this.handleRemoveFile = this.handleRemoveFile.bind(this);\r\n        this.setMainPhoto = this.setMainPhoto.bind(this);\r\n        this.handleDeletePhoto = this.handleDeletePhoto.bind(this);\r\n    }\r\n\r\n    handleDroppedFiles = (files=> {\r\n      console.log(\"PhotoEditor.handleDroppedFiles\",files);\r\n      this.setState({files});\r\n    });\r\n\r\n    handleUploadFile = (index=>{\r\n      this.setState({isUploadingPhoto: true});\r\n      const file = this.state.files[index]\r\n      console.log(\"PhotoEditor.handleUploadFile\",file);\r\n      this.props.uploadUserPhoto(this.props.auth.decodedToken.nameid, file,\r\n        (res)=>{\r\n          console.log(res);\r\n          const photo = {\r\n            id: res.id,\r\n            url: res.url,\r\n            description: res.description,\r\n            dateAdded: res.dateAdded,\r\n            isMain: res.isMain\r\n          };\r\n\r\n          console.log(photo);\r\n          this.props.handleUploadedPhoto(photo);\r\n\r\n          if(photo.isMain){\r\n            this.props.handleSetMainPhoto(photo.id);\r\n            this.props.setUserMainPhotoUrl(photo.url);\r\n          }\r\n\r\n          this.handleRemoveFile(index);\r\n          alertifyService.success(`Uploaded file ${file.path} successfully!`);\r\n          this.setState({isUploadingPhoto: false});\r\n        },\r\n        (error)=>{\r\n          alertifyService.error(error.message);\r\n          this.setState({isUploadingPhoto: false});\r\n        });\r\n    });\r\n\r\n    handleRemoveFile = (index=>{\r\n      console.log(\"PhotoEditor.handleRemoveFile\", index);\r\n      var files = [...this.state.files];\r\n      files.splice(index,1);\r\n      this.setState({files: files})\r\n    });\r\n\r\n    setMainPhoto = (photoId)=>{\r\n      this.props.setUserMainPhoto(this.props.auth.decodedToken.nameid, photoId, \r\n        ()=>{\r\n\r\n          this.props.handleSetMainPhoto(photoId);\r\n\r\n          alertifyService.success(`Set photo ${photoId} as main photo successfully!`);\r\n        },\r\n        (error)=>{\r\n          alertifyService.error(error.message);\r\n        });\r\n    }\r\n\r\n    handleDeletePhoto = (photoId)=>{\r\n      alertifyService.confirm('Are you sure you want to delete this photo?', ()=>{\r\n        this.props.deleteUserPhoto(this.props.auth.decodedToken.nameid, photoId,\r\n          ()=>{\r\n            this.props.handleDeletedPhoto(photoId);\r\n            alertifyService.success(`Deleted photo ${photoId} successfully!`);\r\n\r\n          },\r\n          (error)=>{\r\n            alertifyService.error(error.message);\r\n          })\r\n      });\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n            <div className=\"container\">\r\n              {\r\n                  this.props.photos && this.props.photos.length>0?\r\n                  <div className=\"row mt-3\">\r\n                    {\r\n                        this.props.photos.map(photo=>{\r\n                            return(\r\n                                <div key={photo.id} className=\"col-sm-6 col-md-4 col-lg-3 my-1 text-center\">\r\n                                    <img src={photo.url} className={\"img-thumbnail p-1 \"+styles.imgThumbnail} alt=\"\" />\r\n                                    <div className=\"text-center mt-1\">\r\n                                        <button type=\"button\" className={\"mr-1 btn btn-sm \"+(photo.isMain?\"btn-success active\":\"btn-secondary\")} \r\n                                          onClick={(e)=>{this.setMainPhoto(photo.id)}}\r\n                                          disabled={photo.isMain}\r\n                                        >Main</button>\r\n                                        <button type=\"button\" className=\"btn btn-sm btn-danger\"\r\n                                          onClick={(e)=>{this.handleDeletePhoto(photo.id)}}\r\n                                        >\r\n                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                        </button>\r\n                                    </div> \r\n                                </div>\r\n                            );\r\n                        })\r\n                    }\r\n                  </div>\r\n                  :null\r\n                }\r\n                <PhotoUploader \r\n                  files = {this.state.files}\r\n                  handleDroppedFiles = {this.handleDroppedFiles}\r\n                  handleUploadFile = {this.handleUploadFile}\r\n                  handleRemoveFile = {this.handleRemoveFile}\r\n                  isUploadingPhoto = {this.state.isUploadingPhoto}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhotoEditor);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { fetchUser, updateUser } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport styles from './MemberEditComponent.module.scss';\r\nimport { Tabs, Tab } from 'react-bootstrap';\r\nimport { Control, LocalForm} from 'react-redux-form';\r\nimport { Prompt } from 'react-router-dom';\r\nimport PhotoEditor from './PhotoEditorComponent';\r\nimport ImgUser from '../shared/img/user.png';\r\nimport TimeAgo from 'react-timeago'\r\nimport { genderOptions } from \"../shared/global\";\r\nimport { Form, Field, useForm, FormSpy } from 'react-final-form'\r\nimport { required, minLength, maxLength, validDate } from '../shared/validators';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUser: (id, onSuccess, onError) => { dispatch(fetchUser(id, onSuccess, onError)); },\r\n    updateUser: (id, user, onSuccess, onError) => { dispatch(updateUser(id, user, onSuccess, onError)); }\r\n});\r\n\r\nclass MemberEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: null,\r\n            // profileForm: {\r\n            //     dirty:false,\r\n            //     touched: {\r\n            //         introduction: false,\r\n            //         lookingFor: false,\r\n            //         interests: false,\r\n            //         city: false,\r\n            //         country: false\r\n            //     }\r\n            // }\r\n            profileForm: {\r\n                fields:{\r\n                    introduction: {\r\n                        value:''\r\n                    },\r\n                    gender: {\r\n                        value:''\r\n                    },\r\n                    dateOfBirth: {\r\n                        value:''\r\n                    },\r\n                    country: {\r\n                        value:''\r\n                    },\r\n                    city: {\r\n                        value:''\r\n                    }\r\n                },\r\n                valid: false,\r\n                touched: false,\r\n                dirty: false\r\n            }\r\n        }\r\n\r\n        this.handleInputChangeProfileForm = this.handleInputChangeProfileForm.bind(this);\r\n        this.handleBlurProfileForm = this.handleBlurProfileForm.bind(this);\r\n        this.handleSubmitProfileForm = this.handleSubmitProfileForm.bind(this);\r\n\r\n        this.handleBeforeunload = this.handleBeforeunload.bind(this);\r\n\r\n        this.handleUploadedPhoto = this.handleUploadedPhoto.bind(this);\r\n        this.handleSetMainPhoto = this.handleSetMainPhoto.bind(this);\r\n        this.handleDeletedPhoto = this.handleDeletedPhoto.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('MemberEdit.componentDidMount');\r\n        setTimeout(this.props.fetchUser(\r\n            this.props.auth.decodedToken.nameid,\r\n            (user)=>{   \r\n                alertifyService.success('Fetched your profile successfully!');\r\n                console.log(user);                   \r\n\r\n                let profileForm = this.state.profileForm;\r\n                profileForm.fields.introduction.value = user.introduction||\"\";\r\n                profileForm.fields.gender.value = user.gender||\"\";\r\n                profileForm.fields.dateOfBirth.value = user.dateOfBirth||\"\";\r\n                profileForm.fields.country.value = user.country||\"\";\r\n                profileForm.fields.city.value = user.city||\"\";\r\n\r\n                this.setState({\r\n                    user: user\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n\r\n        window.addEventListener(\"beforeunload\", this.handleBeforeunload);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('beforeunload', this.handleBeforeunload);\r\n    }\r\n\r\n    handleBeforeunload(event) {\r\n        if(this.state.profileForm.dirty){\r\n            event.preventDefault();    \r\n            return (event || window.event).returnValue = 'Are you sure you want to continue? Any unsaved changes will be lost!';\r\n        }       \r\n    }\r\n\r\n    handleUploadedPhoto(photo) {\r\n\r\n        var photos = [...this.state.user.photos];\r\n\r\n        console.log(photo);\r\n        photos.push(photo);\r\n\r\n        this.setState({\r\n            user: {...this.state.user, photos: photos}\r\n        });\r\n    }\r\n\r\n    handleSetMainPhoto(photoId) {\r\n\r\n        var photos = [...this.state.user.photos];\r\n\r\n        var oldMainPhoto = photos.find(p=>p.isMain==true);\r\n        var newMainPhoto = photos.find(p=>p.id==photoId);\r\n        \r\n        newMainPhoto.isMain = true;\r\n\r\n        if(oldMainPhoto.id!=newMainPhoto.id){\r\n            oldMainPhoto.isMain = false;\r\n        }\r\n\r\n        this.setState({\r\n            user: {...this.state.user, photos: photos, photoUrl: newMainPhoto.url}\r\n        });\r\n    }\r\n\r\n    handleDeletedPhoto(photoId) {\r\n\r\n        var photos = [...this.state.user.photos];\r\n        console.log(photos.findIndex(p=>p.id==photoId));\r\n        photos.splice(photos.findIndex(p=>p.id==photoId), 1);\r\n\r\n        this.setState({\r\n            user: {...this.state.user, photos: photos}\r\n        });\r\n    }\r\n\r\n    handleInputChangeProfileForm(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let form = this.state.profileForm;\r\n        form.fields[name].value = value;\r\n        form.dirty = true;\r\n\r\n        form = this.validateProfileForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    handleBlurProfileForm = (event) => {\r\n\r\n        const target = event.target;\r\n        const name = target.name;\r\n        console.log(\"MemberEditComponent.handleBlurProfileForm\", name);\r\n        let form = this.state.profileForm;\r\n        form.fields[name].touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateProfileForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    validateProfileForm(form){\r\n\r\n        for (let key in form.fields) {\r\n            if(!Array.isArray(form.fields[key])){\r\n                form.fields[key].error = null;\r\n            }\r\n            else{\r\n                form.fields[key].forEach(element => {\r\n                    element.error = null;\r\n                });\r\n            }\r\n\r\n        }\r\n        \r\n        form.valid = true;\r\n\r\n        // if (!required(form.fields.introduction.value)){\r\n        //     form.valid = false;      \r\n        //     form.fields.introduction.error = 'Introduction is required.';\r\n        // }\r\n    \r\n        // if (!required(form.fields.gender.value)){\r\n        //     form.valid = false;\r\n        //     form.fields.gender.error = 'Gender is required.';      \r\n        // }\r\n        console.log(form);\r\n        if (required(form.fields.dateOfBirth.value) && !validDate(form.fields.dateOfBirth.value)){\r\n            form.valid = false;\r\n            form.fields.dateOfBirth.error = 'Date of birth should be in yyyy-mm-dd format.';      \r\n        }\r\n       \r\n        return form;\r\n    }\r\n\r\n    handleSubmitProfileForm(event) {\r\n        event.preventDefault();\r\n        console.log(this.state.user);\r\n        console.log(this.state.profileForm);\r\n        this.props.updateUser(this.props.auth.decodedToken.nameid,\r\n            {\r\n                introduction: this.state.profileForm.fields.introduction.value,\r\n                gender: this.state.profileForm.fields.gender.value,\r\n                dateOfBirth: this.state.profileForm.fields.dateOfBirth.value,\r\n                country: this.state.profileForm.fields.country.value,\r\n                city: this.state.profileForm.fields.city.value\r\n            },\r\n            ()=>{\r\n                alertifyService.success('Updated your profile successfully!');\r\n                let profileForm = this.state.profileForm;\r\n                profileForm.touched = false;\r\n                profileForm.dirty = false;\r\n                this.setState({\r\n                    profileForm: profileForm\r\n                });\r\n            },\r\n            error=>{\r\n                alertifyService.error(error.message);\r\n            });\r\n    }\r\n\r\n    // handleBlurProfileForm = (field) => (evt) => {\r\n    //     this.setState({\r\n    //         profileForm: {...this.state.profileForm, touched: {...this.state.profileForm.touched, [field]: true} }\r\n    //     });\r\n    // }\r\n\r\n    showFormFieldError(name){\r\n        return this.state.profileForm.fields[name].error && this.state.profileForm.fields[name].touched\r\n    }\r\n\r\n\r\n    render() { \r\n\r\n        // const { form, handleSubmit, values, pristine, submitting } = useForm();\r\n\r\n        return(     \r\n            <div className=\"container mt-4\">\r\n               \r\n                    <Prompt\r\n                        when={this.state.profileForm.dirty}\r\n                        message=\"Are you sure you want to continue? Any unsaved changes will be lost!\"\r\n                    />\r\n             \r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <h1 className=\"text-left\">\r\n                            Edit Profile\r\n                        </h1>\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n              \r\n                        {\r\n                            this.state.profileForm.dirty?\r\n                            <div className=\"alert alert-info text-left\">\r\n                                <strong>Information:</strong> You have made changes. Any unsaved changes will be lost!\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n            \r\n                    </div>                   \r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <div className=\"card\">\r\n                            <div className=\"p-3\">\r\n                            <img className=\"card-img-top img-thumbnail\" src={this.state.user?this.state.user.photoUrl||ImgUser:ImgUser} alt={this.state.user?this.state.user.knownAs:''}/>\r\n                            </div>\r\n                            <div className={\"card-body \"+styles.cardBody}>\r\n                                {/* <div className=\"text-left\">\r\n                                    <strong>Location:</strong>\r\n                                    <p>{this.state.user?this.state.user.city:''}, {this.state.user?this.state.user.country:''}</p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Age:</strong>\r\n                                    <p>{this.state.user?this.state.user.age:''}</p>\r\n                                </div> */}\r\n                                <div className=\"text-left\">\r\n                                    <strong>Last Active At:</strong>\r\n                                    <p>{this.state.user?<TimeAgo date={this.state.user.lastActive} live={false}/>:null}</p>\r\n                                    {/* <p>{this.state.user?this.state.user.lastActive:''}</p> */}\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Register At:</strong>\r\n                                    {/* <p>{this.state.user?this.state.user.created:''}</p> */}\r\n                                    <p>{this.state.user?(new Date(this.state.user.created)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'}):''}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className={\"card-footer \"+styles.cardFooter}>\r\n                                <button disabled={!this.state.profileForm.dirty} form=\"profile-form\" className=\"btn btn-success btn-block\">Save Changes</button>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"tab-panel\">\r\n                            <Tabs className=\"member-tabs\" defaultActiveKey=\"edit-profile\">\r\n                                <Tab className=\"text-left\" eventKey=\"edit-profile\" title=\"Edit Profile\">\r\n                                <form noValidate id=\"profile-form\" className=\"mt-3 mx-2\" onSubmit={this.handleSubmitProfileForm}>\r\n                                    <div className=\"form-group row text-left\">\r\n                                        <label className=\"col-sm-2 col-form-label font-weight-bold \">Introduction</label>\r\n                                        <div className=\"col-sm\">\r\n                                            <textarea name=\"introduction\" type=\"text\" className={\"form-control \"+(this.showFormFieldError('introduction')?'is-invalid':'')} placeholder=\"Write something about yourself...\"\r\n                                                value={this.state.profileForm.fields.introduction.value}\r\n                                                onChange={this.handleInputChangeProfileForm}\r\n                                                onBlur={this.handleBlurProfileForm}\r\n                                                // minLength={minTitleLength} maxLength={maxTitleLength}\r\n                                            />\r\n                                            <div className=\"invalid-feedback\">{this.showFormFieldError('introduction')?this.state.form.fields.introduction.error:''}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group row text-left \">\r\n                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">Gender</label>\r\n                                        <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                           \r\n                                            <select name=\"gender\" className={\"form-control \"+(this.showFormFieldError('gender')?'is-invalid':'')} \r\n                                                value={this.state.profileForm.fields.gender.value}\r\n                                                onChange={this.handleInputChangeProfileForm}\r\n                                                onBlur={this.handleBlurProfileForm}\r\n                                            >\r\n                                            <option value=''></option>\r\n                                            {\r\n                                                \r\n                                                genderOptions.map(gender=>{\r\n                                                    return (\r\n                                                        <option key={gender.value} value={gender.value}>\r\n                                                            { gender.display }\r\n                                                        </option>\r\n                                                    );\r\n                                                })\r\n                                            }\r\n                                            </select>\r\n                                            <div className=\"invalid-feedback\">{this.showFormFieldError('gender')?this.state.form.fields.gender.error:''}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group row text-left \">\r\n                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">Date of Birth</label>\r\n                                        <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                            <input name=\"dateOfBirth\" type=\"date\" className={\"form-control \"+(this.showFormFieldError('dateOfBirth')?'is-invalid':'')} \r\n                                                value={this.state.profileForm.fields.dateOfBirth.value}\r\n                                                onChange={this.handleInputChangeProfileForm}\r\n                                                onBlur={this.handleBlurProfileForm}\r\n                                            />\r\n                                           \r\n                                            <div className=\"invalid-feedback\">{this.showFormFieldError('dateOfBirth')?this.state.form.fields.dateOfBirth.error:''}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group row text-left \">\r\n                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">Country</label>\r\n                                        <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                            <input name=\"country\" type=\"text\" className={\"form-control \"+(this.showFormFieldError('country')?'is-invalid':'')} \r\n                                                value={this.state.profileForm.fields.country.value}\r\n                                                onChange={this.handleInputChangeProfileForm}\r\n                                                onBlur={this.handleBlurProfileForm}\r\n                                            />\r\n                                           \r\n                                            <div className=\"invalid-feedback\">{this.showFormFieldError('country')?this.state.form.fields.country.error:''}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group row text-left \">\r\n                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">City</label>\r\n                                        <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                            <input name=\"city\" type=\"text\" className={\"form-control \"+(this.showFormFieldError('city')?'is-invalid':'')} \r\n                                                value={this.state.profileForm.fields.city.value}\r\n                                                onChange={this.handleInputChangeProfileForm}\r\n                                                onBlur={this.handleBlurProfileForm}\r\n                                            />\r\n                                           \r\n                                            <div className=\"invalid-feedback\">{this.showFormFieldError('city')?this.state.form.fields.city.error:''}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                \r\n                                </form>\r\n                                    {/* <Form\r\n                                        onSubmit={this.handleSubmitProfileForm}\r\n                                        validate={values => {\r\n                                          const errors = {};\r\n                                          if (!required(values.introduction)) {\r\n                                            errors.introduction = \"Introduction is required.\";\r\n                                          }\r\n\r\n                                          if (!required(values.gender)) {\r\n                                            errors.gender = \"Gender is required.\";\r\n                                          }\r\n\r\n                                          if (!required(values.dateOfBirth)) {\r\n                                            errors.dateOfBirth = \"Date of birth is required.\";\r\n                                          }\r\n\r\n                                          return errors;\r\n                                        }}\r\n                                        render={({ handleSubmit, reset, submitting}) => (\r\n                                            <form id=\"profile-form\" className=\"mt-3 mx-2\" onSubmit={handleSubmit}>\r\n                                              <Field name=\"introduction\">\r\n                                                {({ input, meta }) => (\r\n                                                    <div className=\"form-group row text-left \">\r\n                                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">Introduction</label>\r\n                                                        <div className=\"col-sm\">\r\n                                                            <textarea {...input} type=\"text\" className={\"form-control \"+(meta.touched&&meta.error?'is-invalid':'')} placeholder=\"Write something about yourself...\"/>\r\n                                                            <div className=\"invalid-feedback\">{meta.touched&&meta.error?meta.error:''}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                              </Field>\r\n                                              <Field name=\"gender\">\r\n                                                {({ input, meta }) => (\r\n                                                    <div className=\"form-group row text-left\">\r\n                                                        <label className=\"col-sm-2 col-form-label font-weight-bold\">Gender</label>\r\n                                                        <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                            <select {...input} className={\"form-control \"+(meta.touched&&meta.error?'is-invalid':'')}>\r\n                                                            <option disabled value='' style={{display:\"none\"}}></option>\r\n                                                            {\r\n                                                                    genderOptions.map(gender=>{\r\n                                                                    return (\r\n                                                                        <option key={gender.value} value={gender.value}>\r\n                                                                            { gender.display }\r\n                                                                        </option>\r\n                                                                    );\r\n                                                                })\r\n                                                            }\r\n                                                            </select>\r\n                                                            <div className=\"invalid-feedback\">{meta.touched&&meta.error?meta.error:''}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                              </Field>\r\n                                              <Field name=\"dateOfBirth\">\r\n                                                    {({ input, meta }) => (\r\n                                                        <div className=\"form-group row text-left\">\r\n                                                           <label className=\"col-sm-2 col-form-label font-weight-bold\">Date of Birth</label>\r\n                                                           <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                               <input {...input} type=\"date\" className={\"form-control \"+(meta.touched&&meta.error?'is-invalid':'')} />\r\n                                                               <div className=\"invalid-feedback\">{meta.touched&&meta.error?meta.error:''}</div>\r\n                                                           </div>\r\n                                                       </div>\r\n                                                    )}\r\n                                              </Field>\r\n                                              <Field name=\"country\">\r\n                                                    {({ input, meta }) => (\r\n                                                        <div className=\"form-group row text-left\">\r\n                                                           <label className=\"col-sm-2 col-form-label font-weight-bold\">Country</label>\r\n                                                           <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                               <input {...input} type=\"text\" className={\"form-control \"+(meta.touched&&meta.error?'is-invalid':'')} />\r\n                                                               <div className=\"invalid-feedback\">{meta.touched&&meta.error?meta.error:''}</div>\r\n                                                           </div>\r\n                                                       </div>\r\n                                                    )}\r\n                                              </Field>\r\n                                              <Field name=\"city\">\r\n                                                    {({ input, meta }) => (\r\n                                                        <div className=\"form-group row text-left\">\r\n                                                           <label className=\"col-sm-2 col-form-label font-weight-bold\">City</label>\r\n                                                           <div className=\"col-sm col-lg-5 col-md-6\">\r\n                                                               <input {...input} type=\"text\" className={\"form-control \"+(meta.touched&&meta.error?'is-invalid':'')} />\r\n                                                               <div className=\"invalid-feedback\">{meta.touched&&meta.error?meta.error:''}</div>\r\n                                                           </div>\r\n                                                       </div>\r\n                                                    )}\r\n                                              </Field>\r\n                                            </form>\r\n                                          )}\r\n                                    >\r\n\r\n                                    </Form> */}\r\n                                   \r\n                                </Tab>\r\n                                <Tab className=\"text-left\" eventKey=\"edit-photos\" title=\"Edit Photos\">\r\n                                    <PhotoEditor\r\n                                        photos={this.state.user?this.state.user.photos:null}\r\n                                        handleUploadedPhoto={this.handleUploadedPhoto}\r\n                                        handleSetMainPhoto={this.handleSetMainPhoto}\r\n                                        handleDeletedPhoto={this.handleDeletedPhoto}\r\n                                    />\r\n                                </Tab>                               \r\n                            </Tabs>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberEdit);","import React, { Component } from 'react'\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { fetchMessages, deleteMessage } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport styles from './MessagesComponent.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\nimport TimeAgo from 'react-timeago'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchMessages: (id, pageNumber, pageSize, messageContainer, onSuccess, onError) => { dispatch(fetchMessages(id, pageNumber, pageSize, messageContainer, onSuccess, onError)); },\r\n    deleteMessage: (id, userId, onSuccess, onError) => { dispatch(deleteMessage(id, userId, onSuccess, onError)); }\r\n});\r\n\r\nclass Messages extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            messages: [],\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            },\r\n            messageContainer: 'Unread'\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleChangeMessageContainer = this.handleChangeMessageContainer.bind(this);\r\n        this.deleteMessage = this.deleteMessage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n           this.loadMessages(this.state.pagination.currentPage);\r\n        },1);\r\n    }\r\n\r\n    loadMessages(pageIndex){\r\n        this.props.fetchMessages(\r\n            this.props.authUser.id,\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.messageContainer,\r\n            (messages, pagination)=>{\r\n            \r\n                alertifyService.success('Fetched messages successfully!');\r\n                \r\n                this.setState({\r\n                    messages: messages,\r\n                    pagination:pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        this.loadMessages(pageIndex);\r\n    }\r\n\r\n    handleChangeMessageContainer(value){\r\n\r\n        this.setState({\r\n            messageContainer: value\r\n        });\r\n        \r\n        setTimeout(()=>{\r\n            this.loadMessages(this.state.pagination.currentPage);\r\n         },1);\r\n    }\r\n\r\n    deleteMessage(id){\r\n        alertifyService.confirm(\"Are you sure you want to delete this message\",\r\n            ()=>{\r\n                this.props.deleteMessage(id, this.props.authUser.id, \r\n                    ()=>{\r\n                        // let messages = this.state.messages;\r\n                        // messages.splice(messages.findIndex(m => m.id==id), 1);\r\n                        // this.setState({\r\n                        //     messages:messages\r\n                        // });\r\n                        this.loadMessages(this.state.pagination.currentPage);\r\n                        alertifyService.success('Message has been deleted');\r\n                    },\r\n                    (error)=>{\r\n                        alertifyService.success(error.message);\r\n                    });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"container mt-5\">\r\n                    <div className=\"row\">\r\n                        <div className=\"btn-group\">\r\n                            <button className={\"btn btn-primary \"+(this.state.messageContainer==\"Unread\"?\"active\":\"\")} \r\n                                onClick={(e)=>{this.handleChangeMessageContainer(\"Unread\")}}\r\n                            >\r\n                                <i className=\"fa fa-envelope\"></i> Unread\r\n                            </button>\r\n                            <button className={\"btn btn-primary \"+(this.state.messageContainer==\"Inbox\"?\"active\":\"\")} \r\n                                onClick={(e)=>{this.handleChangeMessageContainer(\"Inbox\")}}\r\n                            >\r\n                                <i className=\"fa fa-envelope-open\"></i> Inbox\r\n                            </button>\r\n                            <button className={\"btn btn-primary \"+(this.state.messageContainer==\"Outbox\"?\"active\":\"\")} \r\n                                onClick={(e)=>{this.handleChangeMessageContainer(\"Outbox\")}}\r\n                            >\r\n                                <i className=\"fa fa-paper-plane\"></i> Outbox\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.messages.length <= 0?\r\n                        <div className=\"row\">\r\n                            <h3 className=\"my-2\">No messages</h3>\r\n                        </div>\r\n                        : \r\n                        <div className=\"row\" >\r\n                            <table className={\"table table-hover \"+styles.table} style={{cursor: \"pointer\"}}>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <th className=\"text-left\" style={{width: \"30%\"}}>Message</th>\r\n                                    <th className=\"text-left\" style={{width: \"25%\"}}>{this.state.messageContainer=='Outbox'?'To':'From'}</th>\r\n                                    <th className=\"text-left\" style={{width: \"25%\"}}>{this.state.messageContainer=='Outbox'?'Sent':'Received'}</th>\r\n                                    <th className=\"text-left\" style={{width: \"20%\"}}></th>\r\n                                </tr>\r\n                    \r\n                                {\r\n                                    this.state.messages.map(message=>{\r\n                                        return (\r\n                                        <tr key={message.id} onClick={(e)=>{this.props.history.push(\"/members/\"+(this.state.messageContainer=='Outbox'?message.recipientId:message.senderId)+\"?tab=messages\")}}>\r\n                                            <td className={\"text-left \"+styles.td}>{message.content}</td>\r\n                                            <td className={\"text-left \"+styles.td}>\r\n                                                {\r\n                                                    this.state.messageContainer=='Outbox'?\r\n                                                    <div>\r\n                                                        <img src={message.recipientPhotoUrl} className={\"img-circle rounded-circle mr-2 \"+styles.imgCircle}/>\r\n                                                        <strong>{message.recipientKnownAs}</strong>\r\n                                                    </div>\r\n                                                    :\r\n                                                    <div>\r\n                                                        <img src={message.senderPhotoUrl} className={\"img-circle rounded-circle mr-2 \"+styles.imgCircle}/>\r\n                                                        <strong>{message.senderKnownAs}</strong>\r\n                                                    </div>\r\n                                                }\r\n                                            </td>\r\n                                            <td className={\"text-left \"+styles.td}><TimeAgo date={message.messageSent} live={false}/></td>\r\n                                            <td className={\"text-left \"+styles.td}>\r\n                                                <button className=\"btn btn-danger\" \r\n                                                    onClick={(e)=>{\r\n                                                        e.stopPropagation();\r\n                                                        this.deleteMessage(message.id);\r\n                                                    }}\r\n                                                >Delete</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                        );\r\n                                    })\r\n                                }\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    }\r\n                  \r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n            </div>\r\n\r\n  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Messages));","import React, { Component, useCallback } from 'react'\r\nimport { createPost, fetchTags } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions, defaultTags } from \"../shared/global\";\r\nimport TagsInput from 'react-tagsinput'\r\nimport 'react-tagsinput/react-tagsinput.css' // If using WebPack and style-loader.\r\n\r\nimport Autosuggest from 'react-autosuggest'\r\nimport './CreatePostComponent.css';\r\nimport Dropzone, {useDropzone} from 'react-dropzone';\r\nimport { required, minLength, maxLength } from '../shared/validators';\r\nimport styles from './CreatePostComponent.module.scss';\r\n\r\n// function states () {\r\n//     return [\r\n//       {name: 'Web Development'},\r\n//       {name: 'Machine Learning'},\r\n//       {name: 'Game Development'},\r\n//       {name: 'Virtual Reality'}\r\n//     ]\r\n//   }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchTags: (tagParams, onSuccess, onError) => { dispatch(fetchTags(tagParams, onSuccess, onError)) }\r\n    // createPost: (title, description, category, tags, links, images, onSuccess, onError) => { dispatch(createPost(title, description, category, tags, links, images, onSuccess, onError)) }\r\n});\r\n\r\nconst minTitleLength = 4;\r\nconst maxTitleLength = 100;\r\nconst minDescriptionLength = 20;\r\nconst maxDescriptionLength = 800;\r\nconst maxTagNumber = 5;\r\nconst maxImageNumber = 5;\r\n\r\nclass PostForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            form: {\r\n                fields:{\r\n                    title: {\r\n                        value:''\r\n                    },\r\n                    description: {\r\n                        value:''\r\n                    },\r\n                    category: {\r\n                        value:''\r\n                    },\r\n                    links: [\r\n                        {\r\n                            value:''\r\n                        }\r\n                    ],\r\n                    tags: {\r\n                        value:[]\r\n                    },\r\n                    images: {\r\n                        value:[]\r\n                    }\r\n                },\r\n                mainImage:0,\r\n                isUploadingImage: false,\r\n                valid: false,\r\n                touched: false\r\n            },\r\n            suggestedTags: defaultTags.map(tag=>{return {name: tag}})\r\n        }\r\n\r\n        this.handleInputChangeTags = this.handleInputChangeTags.bind(this);\r\n        this.handleFormArrayFieldChange = this.handleFormArrayFieldChange.bind(this);\r\n        this.handleFormArrayFieldBlur = this.handleFormArrayFieldBlur.bind(this);\r\n        this.onClickAddLinkButton = this.onClickAddLinkButton.bind(this);\r\n        this.onClickRemoveLinkButton = this.onClickRemoveLinkButton.bind(this);\r\n\r\n        this.onInputAcceptedImage = this.onInputAcceptedImage.bind(this);\r\n        this.onInputRejectedImage = this.onInputRejectedImage.bind(this);\r\n        this.onImageFileDialogCancel = this.onImageFileDialogCancel.bind(this);\r\n        // this.handleUploadFile = this.handleUploadFile.bind(this);\r\n        this.handleRemoveImage = this.handleRemoveImage.bind(this);\r\n\r\n        this.tagsInputProps = {\r\n            className: 'react-tagsinput-input form-control',\r\n            placeholder: 'Type a tag and press Enter'\r\n        };\r\n\r\n        this.handleInputChangeForm = this.handleInputChangeForm.bind(this);\r\n        this.handleBlurForm = this.handleBlurForm.bind(this);\r\n        this.handleSubmitForm = this.handleSubmitForm.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        console.log(\"PostForm.constructor\");\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(\"PostForm.componentDidMount\");\r\n        \r\n        if(this.props.post!=null){\r\n            let form = this.state.form;\r\n            form.fields.title.value = this.props.post.title;\r\n            \r\n            form.fields.description.value = this.props.post.description;\r\n\r\n            form.fields.category.value = this.props.post.category;\r\n            \r\n            form.fields.links = this.props.post.links.map(link=>{return {value:link}});\r\n            \r\n            form.fields.tags.value = this.props.post.tags;\r\n            \r\n            form.fields.images.value = this.props.post.postImages.map(\r\n                image=>{\r\n                    return {\r\n                        id: image.id,\r\n                        src: image.url\r\n                    }\r\n                });\r\n\r\n            form.mainImage = this.props.post.postImages.findIndex(image=>image.isMain);\r\n            // form.mainImage = this.props.post.tags;\r\n            console.log(form);\r\n            this.setState({form:form});\r\n        }\r\n\r\n        setTimeout(this.props.fetchTags(\r\n            {\r\n                orderBy:\"count\",\r\n                minCount: 0\r\n            },\r\n            (tags)=>{                    \r\n                alertifyService.success('Fetched tags successfully!'); \r\n                console.log(tags);\r\n                tags = tags.map(tag=>{return {name:tag.value}});\r\n                let suggestedTags = this.state.suggestedTags;\r\n                for(let i=0; i<suggestedTags.length; i++){\r\n                    if(tags.findIndex(tag=>tag.name==suggestedTags[i].name)==-1){\r\n                        tags.push(suggestedTags[i]);\r\n                    }\r\n                }\r\n                console.log(tags);\r\n                this.setState({\r\n                    suggestedTags: tags\r\n                });\r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n    }\r\n\r\n    handleInputChangeTags(tags){\r\n        if((new Set(tags)).size !== tags.length){\r\n            alertifyService.error(\"Tags cannot be duplicated!\");\r\n            return;\r\n        }\r\n\r\n        let form = this.state.form;\r\n        form.fields.tags.value = tags;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    handleFormArrayFieldChange(event, index){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name][index].value = value;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    handleFormArrayFieldBlur(event, index){\r\n        const target = event.target;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name][index].touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    onClickAddLinkButton(){\r\n        let form = this.state.form;\r\n        form.fields.links.push({value:\"\"});\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    onClickRemoveLinkButton(index, event){\r\n        event.preventDefault();\r\n\r\n        let form = this.state.form;\r\n        form.fields.links.splice(index,1);\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    showFormFieldError(name){\r\n        return this.state.form.fields[name].error && this.state.form.fields[name].touched\r\n    }\r\n\r\n    showFormArrayFieldError(name, index){\r\n        return this.state.form.fields[name][index].error && this.state.form.fields[name][index].touched\r\n    }\r\n\r\n    onInputAcceptedImage = (acceptedFiles => {\r\n        console.log(\"CreatePostComponent.onDropAccepted\", acceptedFiles);\r\n        // let form = this.state.form;\r\n        // form.fields.imagesToUpload.value = acceptedFiles;\r\n        // this.setState({\r\n        //     form: form\r\n        // });\r\n\r\n        acceptedFiles.forEach(acceptedFile => {\r\n            let form = this.state.form;\r\n            let index = form.fields.images.value.length;\r\n            // acceptedFile.isMain = index==0;\r\n            form.fields.images.value.push(acceptedFile);\r\n            this.setState({\r\n                form: form\r\n            });\r\n\r\n            let reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                let form = this.state.form;\r\n                form.fields.images.value[index].src=e.target.result;\r\n                form.fields.images.touched = true;\r\n                form = this.validateForm(form);\r\n                this.setState({\r\n                    form: form\r\n                });\r\n                \r\n            };\r\n\r\n            reader.readAsDataURL(acceptedFile);\r\n        });\r\n    });\r\n  \r\n    onInputRejectedImage = (rejectedFiles => {\r\n        console.log(\"CreatePostComponent.onDropRejected\", rejectedFiles);\r\n        rejectedFiles.forEach(rejectedFile => {\r\n            alertifyService.error(`\"${rejectedFile.name}\" is not a valid image file!`)\r\n        });\r\n\r\n        let form = this.state.form;\r\n        form.fields.images.touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    });\r\n\r\n    onImageFileDialogCancel(args){\r\n        let form = this.state.form;\r\n        form.fields.images.touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n\r\n    }\r\n    // handleUploadFile = (index=>{\r\n    //     console.log(\"CreatePostComponent.handleUploadFile\", index);\r\n        \r\n    //     this.setState({\r\n    //         form: {...this.state.form, isUploadingImage:true}\r\n    //     });\r\n\r\n    //     const file = this.state.files[index];\r\n    //     this.props.uploadPostImage(file,\r\n    //       (res)=>{\r\n    //         console.log(res);\r\n    //         // const photo = {\r\n    //         //   id: res.id,\r\n    //         //   url: res.url,\r\n    //         //   description: res.description,\r\n    //         //   dateAdded: res.dateAdded,\r\n    //         //   isMain: res.isMain\r\n    //         // };\r\n  \r\n    //         // console.log(photo);\r\n    //         // this.props.handleUploadedPhoto(photo);\r\n  \r\n    //         // if(photo.isMain){\r\n    //         //   this.props.handleSetMainPhoto(photo.id);\r\n    //         //   this.props.setUserMainPhotoUrl(photo.url);\r\n    //         // }\r\n  \r\n    //         // this.handleRemoveFile(index);\r\n    //         alertifyService.success(`Uploaded file ${file.path} successfully!`);\r\n    //         this.setState({\r\n    //             form: {...this.state.form, isUploadingImage:false}\r\n    //         });\r\n    //       },\r\n    //       (error)=>{\r\n    //         alertifyService.error(error.message);\r\n    //         this.setState({\r\n    //             form: {...this.state.form, isUploadingImage:false}\r\n    //         });\r\n    //       });\r\n    // });\r\n  \r\n    handleRemoveImage = (index=>{\r\n        console.log(\"CreatePostComponent.handleRemoveFile\", index);\r\n        let form = this.state.form;\r\n        form.fields.images.value.splice(index,1);\r\n        if(form.mainImage>index){\r\n            form.mainImage--;\r\n        }\r\n        else if(form.mainImage==index){\r\n            form.mainImage = 0;\r\n        }\r\n\r\n        form = this.validateForm(form);\r\n        this.setState({\r\n            form: form\r\n        });\r\n    });\r\n  \r\n    tagsInputRenderLayout (tagComponents, inputComponent) {\r\n        return (\r\n          <span>\r\n            {inputComponent}\r\n            {tagComponents}\r\n           \r\n          </span>\r\n        )\r\n    }\r\n\r\n    autocompleteRenderInput ({addTag, ...props}) {\r\n\r\n        const handleOnChange = (e, {newValue, method}) => {\r\n          if (method === 'enter') {\r\n            e.preventDefault()\r\n          } else {\r\n            props.onChange(e)\r\n          }\r\n        }\r\n        console.log(props);\r\n        const inputValue = (props.value && props.value.trim().toLowerCase()) || '';\r\n        const inputLength = inputValue.length;\r\n\r\n        let suggestions = this.state.suggestedTags.filter((tag) => {\r\n          return tag.name.toLowerCase().slice(0, inputLength) === inputValue\r\n        });\r\n\r\n        console.log(suggestions);\r\n\r\n        return (\r\n            \r\n            <Autosuggest\r\n                ref={props.ref}\r\n                suggestions={suggestions}\r\n                shouldRenderSuggestions={(value) => value && value.trim().length > 0}\r\n                getSuggestionValue={(suggestion) => suggestion.name}\r\n                renderSuggestion={(suggestion) => <span>{suggestion.name}</span>}\r\n                inputProps={{...props, onChange: handleOnChange}}\r\n                onSuggestionSelected={(e, {suggestion}) => {\r\n                addTag(suggestion.name)\r\n                }}\r\n                onSuggestionsClearRequested={() => {}}\r\n                onSuggestionsFetchRequested={() => {}}\r\n            />\r\n            \r\n        )\r\n    }\r\n\r\n    setMainImage = (index)=>{\r\n        this.setState({\r\n            form: {...this.state.form, mainImage:index}\r\n        });\r\n    }\r\n\r\n    handleInputChangeForm(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].value = value;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n    \r\n    handleBlurForm = (event) => {\r\n        console.log(\"CreatePostComponent.handleBlurForm\");\r\n\r\n        const target = event.target;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    validateForm(form){\r\n\r\n        for (let key in form.fields) {\r\n            if(!Array.isArray(form.fields[key])){\r\n                form.fields[key].error = null;\r\n            }\r\n            else{\r\n                form.fields[key].forEach(element => {\r\n                    element.error = null;\r\n                });\r\n            }\r\n\r\n        }\r\n        \r\n        form.valid = true;\r\n\r\n        if (!required(form.fields.title.value)){\r\n            form.valid = false;      \r\n            form.fields.title.error = 'Title is required.';\r\n        }\r\n        else if(!minLength(minTitleLength)(form.fields.title.value) || !maxLength(maxTitleLength)(form.fields.title.value)){\r\n            form.valid = false;      \r\n            form.fields.title.error = `Title should be between ${minTitleLength} to ${maxTitleLength} characters.`;\r\n        }\r\n    \r\n        if (!required(form.fields.description.value)){\r\n            form.valid = false;\r\n            form.fields.description.error = 'Description is required.';      \r\n        }\r\n        else if(!minLength(minDescriptionLength)(form.fields.description.value) || !maxLength(maxDescriptionLength)(form.fields.description.value)){\r\n            form.valid = false;      \r\n            form.fields.description.error = `Description should be between ${minDescriptionLength} to ${maxDescriptionLength} characters.`;\r\n        }\r\n\r\n        if (!required(form.fields.category.value)){\r\n            form.valid = false;\r\n            form.fields.category.error = 'Please choose the resource category.';\r\n        }\r\n        \r\n        if (!required(form.fields.tags.value)){\r\n            form.valid = false;\r\n            form.fields.tags.error = 'Please add at least one tag.';\r\n        }\r\n        else if(form.fields.tags.value.length>maxTagNumber){\r\n            form.valid = false;\r\n            form.fields.tags.error = `At most ${maxTagNumber} tags can be added.`;\r\n        }\r\n\r\n        for(let i=0; i<form.fields.links.length; i++){\r\n            if (!required(form.fields.links[i].value)){\r\n                form.valid = false;\r\n                form.fields.links[i].error = 'Empty link is not allowed.';\r\n            }\r\n        }\r\n\r\n        if (!required(form.fields.images.value)){\r\n            form.valid = false;\r\n            form.fields.images.error = 'Please upload at least one image.';\r\n        }\r\n        else if(form.fields.images.value.length>maxImageNumber){\r\n            form.valid = false;\r\n            form.fields.images.error = `At most ${maxImageNumber} images can be added.`;\r\n        }\r\n       \r\n        return form;\r\n    }\r\n\r\n    handleSubmitForm(event) {\r\n        event.preventDefault();\r\n        \r\n        let form = this.state.form;\r\n\r\n        if(form.touched){\r\n            if(!form.valid){\r\n               \r\n                for (let key in form.fields) {\r\n                    \r\n                    if(!Array.isArray(form.fields[key])){\r\n                        form.fields[key].touched = true;\r\n                    }\r\n                    else{\r\n                        form.fields[key].forEach(element => {\r\n                            element.touched = true;\r\n                        });\r\n                    }\r\n                }\r\n                form.touched = true;\r\n\r\n                form = this.validateForm(form);\r\n\r\n                this.setState({\r\n                    form\r\n                });\r\n    \r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n        else{\r\n            \r\n            for (let key in form.fields) {\r\n                    \r\n                if(!Array.isArray(form.fields[key])){\r\n                    form.fields[key].touched = true;\r\n                }\r\n                else{\r\n                    form.fields[key].forEach(element => {\r\n                        element.touched = true;\r\n                    });\r\n                }\r\n            }\r\n            form.touched = true;\r\n\r\n            form = this.validateForm(form);\r\n\r\n            this.setState({\r\n                form\r\n            });\r\n\r\n            if(!form.valid){\r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n\r\n        let encodedLinkValues = this.state.form.fields.links.map(link=>{\r\n            return encodeURIComponent(link.value);\r\n        });\r\n\r\n        console.log(encodedLinkValues);\r\n\r\n        this.props.onSubmitPost(\r\n            this.state.form.fields.title.value,\r\n            this.state.form.fields.description.value,\r\n            this.state.form.fields.category.value,\r\n            this.state.form.fields.tags.value.join(','),\r\n            encodedLinkValues.join(','),\r\n            this.state.form.fields.images.value,\r\n            this.state.form.mainImage\r\n        );\r\n        // this.props.createPost(\r\n        //     this.state.form.fields.title.value,\r\n        //     this.state.form.fields.description.value,\r\n        //     this.state.form.fields.category.value,\r\n        //     this.state.form.fields.tags.value.join('|'),\r\n        //     encodedLinkValues.join(','),\r\n        //     this.state.form.fields.images.value,\r\n        //     this.state.form.mainImage,\r\n        //     (user)=>{\r\n        //         alertifyService.success(\"Created post successfully!\");\r\n        //     },\r\n        //     (error)=>{\r\n        //         alertifyService.error(error.message);\r\n        //     }\r\n        // )\r\n        \r\n    }\r\n\r\n    render() {\r\n        return(\r\n       \r\n                        <form id=\"post-form\" noValidate onSubmit={this.handleSubmitForm}>\r\n                            <div className=\"form-group row text-left\">\r\n                                <label className=\"col-sm-2 col-form-label font-weight-bold \">Title</label>\r\n                                <div className=\"col-sm\">\r\n                                    <input name=\"title\" type=\"text\" className={\"form-control \"+(this.showFormFieldError('title')?'is-invalid':'')} placeholder=\"Name of the Study Resource\"\r\n                                        value={this.state.form.fields.title.value}\r\n                                        onChange={this.handleInputChangeForm}\r\n                                        onBlur={this.handleBlurForm}\r\n                                        minLength={minTitleLength} maxLength={maxTitleLength}\r\n                                    />\r\n                                    <div className=\"invalid-feedback\">{this.showFormFieldError('title')?this.state.form.fields.title.error:''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row text-left \">\r\n                                <label className=\"col-sm-2 col-form-label font-weight-bold\">Description</label>\r\n                                <div className=\"col-sm\">\r\n                                    <textarea name=\"description\" type=\"text\" className={\"form-control \"+(this.showFormFieldError('description')?'is-invalid':'')} placeholder=\"Description of the Study Resource\"\r\n                                        value={this.state.form.fields.description.value}\r\n                                        onChange={this.handleInputChangeForm}\r\n                                        onBlur={this.handleBlurForm}\r\n                                        minLength={minDescriptionLength} maxLength={maxDescriptionLength}\r\n                                    />\r\n                                    <div className=\"invalid-feedback\">{this.showFormFieldError('description')?this.state.form.fields.description.error:''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row text-left \">\r\n                                <label className=\"col-sm-2 col-form-label font-weight-bold\">Category</label>\r\n                                <div className=\"col-sm col-lg-4 col-md-6\">\r\n                                    {/* <textarea type=\"text\" className=\"form-control\" placeholder=\"Description of the Study Resource\"/> */}\r\n                                    <select name=\"category\" className={\"form-control \"+(this.showFormFieldError('category')?'is-invalid':'')} \r\n                                        value={this.state.form.fields.category.value}\r\n                                        onChange={this.handleInputChangeForm}\r\n                                        onBlur={this.handleBlurForm}\r\n                                    >\r\n                                    <option disabled value='' style={{display:\"none\"}}></option>\r\n                                    {\r\n                                        \r\n                                        postCategoryOptions.map(category=>{\r\n                                            return (\r\n                                                <option key={category.value} value={category.value}>\r\n                                                    { category.display }\r\n                                                </option>\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                    </select>\r\n                                    <div className=\"invalid-feedback\">{this.showFormFieldError('category')?this.state.form.fields.category.error:''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row text-left \">\r\n                                <label className=\"col-sm-2 col-form-label font-weight-bold\">Tags</label>\r\n                                <div className=\"col-sm\">\r\n                                    <TagsInput className={\"text-left\"} \r\n                                    inputProps={{\r\n                                        className: 'react-tagsinput-input form-control '+(this.showFormFieldError('tags')?'is-invalid':''),\r\n                                        name: \"tags\",\r\n                                        onBlur: this.handleBlurForm,\r\n                                        placeholder: this.state.form.fields.tags.value.length<maxTagNumber?'Type a tag and press Enter':`At most ${maxTagNumber} tags can be added.`,\r\n                                        disabled:this.state.form.fields.tags.value.length>=maxTagNumber\r\n                                    }} \r\n                                    \r\n                                    renderInput={this.autocompleteRenderInput.bind(this)} \r\n                                    renderLayout={this.tagsInputRenderLayout} \r\n                                    value={this.state.form.fields.tags.value}\r\n                                    onChange={this.handleInputChangeTags} />\r\n                                    <div className=\"invalid-feedback\" style={{display:\"block\"}}>{this.showFormFieldError('tags')?this.state.form.fields.tags.error:''}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row text-left \">\r\n                                <label className=\"col-sm-2 col-form-label font-weight-bold\">Links</label>\r\n                                <div className=\"col-sm-10\">\r\n                                    {\r\n                                        this.state.form.fields.links.map((link, index)=>{\r\n                                            return (\r\n                                                <div key={index} className=\"input-group mb-2\">\r\n                                                    <input name='links' type=\"text\" className={\"form-control \"+(this.showFormArrayFieldError('links',index)?'is-invalid':'')} placeholder=\"http://example.com\" \r\n                                                        value={link.value} \r\n                                                        onChange={(event)=>this.handleFormArrayFieldChange(event, index)}\r\n                                                        onBlur={(event)=>this.handleFormArrayFieldBlur(event, index)}\r\n                                                    />\r\n                                                    {\r\n                                                        this.state.form.fields.links.length>1?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button className=\"btn btn-danger\" onClick={(event)=>{this.onClickRemoveLinkButton(index,event)}}>\r\n                                                            <span className=\"fas fa-minus mr-2\"></span>\r\n                                                            Remove\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        :null\r\n                                                    }\r\n                                                    <div className=\"invalid-feedback\" >{this.showFormArrayFieldError('links',index)?this.state.form.fields.links[index].error:''}</div>\r\n                                                </div>\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                    \r\n                                </div>\r\n                                <div className=\"col-sm text-right\">\r\n                                    <button className=\"btn btn-primary\" type=\"button\" onClick={this.onClickAddLinkButton}>\r\n                                        <span className=\"fas fa-plus mr-1\"></span>\r\n                                        Add a new link\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <label className=\"col-sm-2 col-form-label text-left font-weight-bold\">Images</label>\r\n                                <div className=\"col-sm text-left\">\r\n                                    <div className=\"mx-0 px-0 col-sm-12 col-md-6 col-lg-4 mb-2\">\r\n                                        <Dropzone onFileDialogCancel={this.onImageFileDialogCancel} onDropAccepted={this.onInputAcceptedImage} onDropRejected={this.onInputRejectedImage} accept=\"image/*\" noDrag>\r\n                                            {({getRootProps, getInputProps}) => (\r\n                                            <label htmlFor=\"input-image\" {...getRootProps({tabIndex:null, className: styles.labelInputImage+\" \"+(this.showFormFieldError('images')?styles.isInvalid:\"\")})}>                            \r\n                                                <input id=\"input-image\" {...getInputProps({\r\n                                                    // name:\"images\",\r\n                                                    // onBlur:this.handleBlurForm\r\n                                                })} />\r\n                                                <span className=\"fas fa-upload mr-1\"></span> Upload Images\r\n                                            </label>                                                   \r\n                                            )}\r\n                                        </Dropzone>\r\n                                        <div className=\"invalid-feedback\" style={{display:\"block\"}}>{this.showFormFieldError('images')?this.state.form.fields.images.error:''}</div>\r\n                                    </div>\r\n                                    <div className=\"row mx-0 px-0 mb-2\">\r\n                                    {\r\n                                        this.state.form.fields.images.value.map((image,index)=>{\r\n                                            return(                          \r\n                                                image.src!=null?\r\n                                                <div key={index} className=\"col-sm-6 col-md-4 col-lg-3 mb-4 text-center\">\r\n                                                    <img src={image.src} className={styles.imgThumbnail} alt=\"\" />\r\n                                                    <div className=\"text-center mt-1\">\r\n                                                        <button type=\"button\" className={\"mr-1 btn btn-sm \"+(index==this.state.form.mainImage?\"btn-success active\":\"btn-secondary\")} \r\n                                                            onClick={(e)=>{this.setMainImage(index)}}\r\n                                                            disabled={index==this.state.form.mainImage}\r\n                                                        >Cover</button>\r\n                                                        <button type=\"button\" className=\"btn btn-sm btn-danger\"\r\n                                                            onClick={(e)=>{this.handleRemoveImage(index)}}\r\n                                                        >\r\n                                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                                        </button>\r\n                                                    </div> \r\n                                                </div>\r\n                                                :null\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                                \r\n                            </div>\r\n\r\n                            {/* <div className=\"form-group text-left row \">\r\n                                <div className=\"offset-md-2 col\">\r\n                                    <button className=\"btn btn-success btn-lg\" type=\"submit\" >\r\n                                        Submit\r\n                                    </button>\r\n                                </div>\r\n                            </div> */}\r\n                        </form>\r\n   \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostForm);","import React, { Component, useCallback } from 'react'\r\nimport {createPost, fetchAuthUser } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions } from \"../shared/global\";\r\nimport TagsInput from 'react-tagsinput'\r\nimport 'react-tagsinput/react-tagsinput.css' // If using WebPack and style-loader.\r\n\r\nimport Autosuggest from 'react-autosuggest'\r\nimport './CreatePostComponent.css';\r\nimport Dropzone, {useDropzone} from 'react-dropzone';\r\nimport { required, minLength, maxLength } from '../shared/validators';\r\nimport styles from './CreatePostComponent.module.scss';\r\nimport PostForm from \"./PostFormComponent\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction states () {\r\n    return [\r\n      {name: 'Web Development'},\r\n      {name: 'Machine Learning'},\r\n      {name: 'Game Development'},\r\n      {name: 'Virtual Reality'}\r\n    ]\r\n  }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchAuthUser: (id, onSuccess, onError) => { dispatch(fetchAuthUser(id, onSuccess, onError)) },\r\n    createPost: (title, description, category, tags, links, images, mainImage, onSuccess, onError) => { dispatch(createPost(title, description, category, tags, links, images, mainImage, onSuccess, onError)) }\r\n});\r\n\r\nconst minTitleLength = 4;\r\nconst maxTitleLength = 100;\r\nconst minDescriptionLength = 20;\r\nconst maxDescriptionLength = 800;\r\nconst maxTagNumber = 5;\r\n\r\nclass CreatePost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n\r\n        this.onSubmitPost = this.onSubmitPost.bind(this);\r\n    }\r\n\r\n    onSubmitPost(\r\n        title,\r\n        description,\r\n        category,\r\n        tags,\r\n        encodedLinks,\r\n        images,\r\n        mainImage\r\n    ){\r\n        console.log(mainImage);\r\n        this.props.createPost(\r\n            title,\r\n            description,\r\n            category,\r\n            tags,\r\n            encodedLinks,\r\n            images,\r\n            mainImage,\r\n            (post)=>{\r\n                console.log(post);\r\n                alertifyService.success(\"Created post successfully!\");\r\n                this.props.history.push(`/posts/${post.id}`);\r\n                this.props.fetchAuthUser(this.props.authUser.id,\r\n                    (user)=>{\r\n                        alertifyService.success(\"Fetched auth user successfully!\");\r\n                        \r\n                    },\r\n                    (error)=>{\r\n                        alertifyService.error(error.message);\r\n                    });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"container mt-4\">\r\n                <h1 className=\"mb-4 text-left\">\r\n                    Create New Post\r\n                </h1>\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <PostForm\r\n                            onSubmitPost={this.onSubmitPost}\r\n                        />\r\n                        <div className=\"text-left row \">\r\n                            <div className=\"offset-md-2 col\">\r\n                                <button className=\"btn btn-success btn-lg\" type=\"submit\" form=\"post-form\">\r\n                                    Submit\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreatePost));","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { fetchPost, likePost, cancelLikedPost, dislikePost, cancelDislikedPost } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\n// import styles from './MemberDetailsComponent.module.scss';\r\n// import { Tabs, Tab } from 'react-bootstrap';\r\nimport ImageGallery from 'react-image-gallery';\r\n// import ImgUser from '../../shared/img/user.png';\r\nimport TimeAgo from 'react-timeago'\r\n// import MemberMessages from './member/MemberMessagesComponent';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\n// import './MemberDetailsComponent.scss';\r\nimport './PostDetailsComponent.css';\r\nimport ImgUser from '../shared/img/user.png';\r\nimport styles from './PostDetailsComponent.module.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchPost: (id, onSuccess, onError) => { dispatch(fetchPost(id, onSuccess, onError)); },\r\n    likePost: (userId, postId, onSuccess, onError) => { dispatch(likePost(userId, postId, onSuccess, onError)); },\r\n    cancelLikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelLikedPost(userId, postId, onSuccess, onError)); },\r\n    dislikePost: (userId, postId, onSuccess, onError) => { dispatch(dislikePost(userId, postId, onSuccess, onError)); },\r\n    cancelDislikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelDislikedPost(userId, postId, onSuccess, onError)); }\r\n});\r\n\r\nclass PostDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // let initTab = queryString.parse(this.props.location.search).tab;\r\n      \r\n        this.state = {\r\n            post:null\r\n        }\r\n\r\n        this.onClickLikeButton = this.onClickLikeButton.bind(this);\r\n        this.onClickDislikeButton = this.onClickDislikeButton.bind(this);\r\n        this.onClickEditButton = this.onClickEditButton.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        setTimeout(this.props.fetchPost(\r\n            this.props.match.params.id,\r\n            (post)=>{                    \r\n                alertifyService.success('Fetched post '+this.props.match.params.id+' successfully!');     \r\n\r\n                post.tags = post.tags;\r\n                let links = post.links.split(',');\r\n                for(let i=0;i<links.length; i++){\r\n                    links[i] = decodeURIComponent(links[i]);\r\n                }\r\n                post.links = links;\r\n                this.setState({\r\n                    post: post\r\n                });\r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n    }\r\n\r\n    fetchPost(){\r\n        this.props.fetchPost(\r\n            this.props.match.params.id,\r\n            (post)=>{                    \r\n                alertifyService.success('Fetched post '+this.props.match.params.id+' successfully!');\r\n\r\n                post.tags = post.tags;\r\n                let links = post.links.split(',');\r\n                for(let i=0;i<links.length; i++){\r\n                    links[i] = decodeURIComponent(links[i]);\r\n                }\r\n                post.links = links;\r\n                this.setState({\r\n                    post: post\r\n                });\r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        );\r\n    }\r\n\r\n    onClickLikeButton(event){\r\n\r\n        if(!this.isPostLiked()){\r\n            this.props.likePost(\r\n                this.props.authUser.id,\r\n                this.props.match.params.id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Liked post successfully!');\r\n                    this.fetchPost();\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelLikedPost(\r\n                this.props.authUser.id,\r\n                this.props.match.params.id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Cancel liked post successfully!');\r\n                    this.fetchPost();\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n\r\n    isPostLiked(){\r\n        return this.state.post!=null&&this.state.post.likers.findIndex(p=>p.likerId == this.props.authUser.id)!=-1;\r\n    }\r\n\r\n    isPostDisliked(){\r\n        return this.state.post!=null&&this.state.post.dislikers.findIndex(p=>p.dislikerId == this.props.authUser.id)!=-1;\r\n    }\r\n\r\n    onClickDislikeButton(event){\r\n        console.log(\"PostDetailsComponent.onClickDislikeButton\");\r\n\r\n        if(!this.isPostDisliked()){\r\n            this.props.dislikePost(\r\n                this.props.authUser.id,\r\n                this.props.match.params.id,\r\n                (res)=>{\r\n                    alertifyService.success('Disliked post successfully!');\r\n                    this.fetchPost();\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelDislikedPost(\r\n                this.props.authUser.id,\r\n                this.props.match.params.id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Cancel disliked post successfully!');\r\n                    this.fetchPost();\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n\r\n    onClickEditButton(event){\r\n        this.props.history.push(`/posts/${this.props.match.params.id}/edit`);\r\n    }\r\n\r\n    render() {\r\n        // const postImages = [{\r\n        //         original: \"http://res.cloudinary.com/atom0520/image/upload/v1559884265/glewuxjd8rwve3ymc5eh.png\",\r\n        //         thumbnail: \"http://res.cloudinary.com/atom0520/image/upload/v1559884265/glewuxjd8rwve3ymc5eh.png\"\r\n        //     },\r\n        //     {\r\n        //         original: \"http://res.cloudinary.com/atom0520/image/upload/v1559884395/necu38bdkvdfgrs5gwaf.png\",\r\n        //         thumbnail: \"http://res.cloudinary.com/atom0520/image/upload/v1559884395/necu38bdkvdfgrs5gwaf.png\"\r\n        //     },\r\n        //     {\r\n        //         original: \"http://res.cloudinary.com/atom0520/image/upload/v1559884403/u7uvux74wx0ezfumxyqj.png\",\r\n        //         thumbnail: \"http://res.cloudinary.com/atom0520/image/upload/v1559884403/u7uvux74wx0ezfumxyqj.png\"\r\n        //     }];\r\n        const postImages = this.state.post? this.state.post.postImages.map((postImage)=>{\r\n            return  {\r\n                original: postImage.url,\r\n                thumbnail: postImage.url\r\n            };\r\n        }):null;\r\n        \r\n        return(\r\n            <div className=\"container mt-4 pt-3 mb-4 post-details-component\">\r\n                {/* <h1 className=\"mb-4 text-left\">\r\n                    Post Details\r\n                </h1> */}\r\n                {/* <div className=\"row\">\r\n                    <h1>\r\n                        {this.state.post? this.state.post.knownAs: ''}'s Profile\r\n                    </h1>\r\n                </div> */}\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                                <div className=\"text-left\">\r\n                                    <strong>Author:</strong>\r\n                                    <p>\r\n                                    {\r\n                                        this.state.post?\r\n                                        <Link to={\"/members/\"+this.state.post.author.id} className=\"navbar-brand\">\r\n                                            <span className=\"mr-2\">\r\n                                                <img className={styles.imgAuthor} src={this.state.post?(this.state.post.author.photoUrl || ImgUser):''} alt=\"\"/>\r\n                                            </span>\r\n                                            {\r\n                                                this.state.post?\r\n                                                this.state.post.author.username\r\n                                                :null\r\n                                            }\r\n                                        </Link>\r\n                                        :null\r\n                                    }\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Created At:</strong>\r\n                                    <p>\r\n                                    {\r\n                                        this.state.post?\r\n                                        (new Date(this.state.post.created)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'})\r\n                                        :''\r\n                                    }\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong>Last Updated At:</strong>\r\n                                    <p>\r\n                                    {\r\n                                        this.state.post?\r\n                                        (new Date(this.state.post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'})\r\n                                        :''\r\n                                    }\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong><i className=\"far fa-thumbs-up\"></i> Likes:</strong>\r\n                                    <p>\r\n                                    {\r\n                                        this.state.post?\r\n                                        this.state.post.likers.length\r\n                                        :''\r\n                                    }\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"text-left\">\r\n                                    <strong><i className=\"far fa-thumbs-down\"></i> Dislikes:</strong>\r\n                                    <p>\r\n                                    {\r\n                                        this.state.post?\r\n                                        this.state.post.dislikers.length\r\n                                        :''\r\n                                    }\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                this.props.isAuthenticated?\r\n                                <div className=\"card-footer \">\r\n                                    <button className={\"btn mx-1 \"+\r\n                                    (this.isPostLiked()?\"btn-success\":\"btn-outline-secondary\")}\r\n                                        onClick={this.onClickLikeButton}\r\n                                    >\r\n                                    <i className=\"far fa-thumbs-up\"></i> Like\r\n                                    </button>\r\n                                    <button className={\"btn mx-1 \"+\r\n                                    (this.isPostDisliked()?\"btn-danger\":\"btn-outline-secondary\")}\r\n                                        onClick={this.onClickDislikeButton}\r\n                                    >\r\n                                    <i className=\"far fa-thumbs-down\"></i> Dislike</button>                           \r\n                                </div>\r\n                                :null\r\n                            }\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"col-md-9\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n\r\n                                    <div className=\"row text-left\">\r\n                                       \r\n                                        {/* <label className=\"col-lg-2 col-md-3 font-weight-bold \">Title</label> */}\r\n                                        <div className=\"col-sm\">\r\n                                            <h2>{this.state.post?this.state.post.title:''}</h2>\r\n                                            {/* <p>{this.state.post?this.state.post.title:''}</p> */}\r\n                                        </div>\r\n                                    </div>\r\n                                   \r\n                                    <div className=\"row text-left mb-2\">\r\n                                        {/* <label className=\"col-lg-2 col-md-3 font-weight-bold\">Category</label> */}\r\n                                        <div className=\"col-sm col-lg-4 col-md-6\">\r\n                                            <strong className=\"mr-1\">Category: </strong> {this.state.post?this.state.post.category.toUpperCase():''}\r\n                                            {/* <p>\r\n                                           \r\n                                            </p> */}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row text-left mb-4\">\r\n                                        {/* <label className=\"col-lg-2 col-md-3 font-weight-bold\">Tags</label> */}\r\n                                        <div className=\"col-sm\">\r\n                                            <strong className=\"mr-1\">Tags: </strong>\r\n                                            {\r\n                                                this.state.post?\r\n                                                this.state.post.tags.join(\", \")\r\n                                                // this.state.post.tags.map((tag, index)=>{\r\n                                                //     return(\r\n                                                //         <span key={index} className=\"mr-2\">{tag}</span>\r\n                                                //     );\r\n                                                // })\r\n                                                :null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                     <div className=\"row text-left mb-4\">\r\n                                        <label className=\"col-12 font-weight-bold\">Description</label>\r\n                                        <div className=\"col-sm\">\r\n                                            <p className=\"bg-light px-3 py-3\">\r\n                                            {this.state.post?this.state.post.description:''}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row text-left mb-5\">\r\n                                        <label className=\"col-lg-2 col-md-3 font-weight-bold\">Links</label>\r\n                                        <div className=\"col-sm-10\">\r\n                                            {\r\n                                                this.state.post?\r\n                                                this.state.post.links.map((link, index)=>{\r\n                                                    return(\r\n                                                        <div key={index}>\r\n                                                            <a href={link} target=\"_blank\">{link}</a>\r\n                                                        </div>\r\n                                                    );\r\n                                                })\r\n                                                :null\r\n                                            }\r\n                                            {/* <div>\r\n                                            <a href=\"http://test1.com\">http://test1.com</a>\r\n                                            </div>\r\n                                            <div>\r\n                                            <a href=\"http://test2.com\">http://test2.com</a>\r\n                                            </div>\r\n                                            <div>\r\n                                            <a href=\"http://test3.com\">http://test3.com</a>\r\n                                            </div> */}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row text-left mt-4\">\r\n                                        <label className=\"col-lg-2 col-md-3 font-weight-bold\">Images</label>\r\n                                        <div className=\"col-sm-8 col-md-6 col-lg-4\">\r\n                                        {\r\n                                      \r\n                                            postImages?\r\n                                            <ImageGallery items={postImages} showPlayButton={false} showFullscreenButton={false} useBrowserFullscreen={false}/>\r\n                                            :null\r\n                                        }\r\n                                            \r\n                                        </div>\r\n                                    </div>\r\n                                    {\r\n                                        this.props.isAuthenticated && this.state.post!=null && this.state.post.author.id==this.props.authUser.id?\r\n                                        <div className=\"text-right mt-4 mt-sm-0\">\r\n                                            <button className={\"btn btn-block-xs-only btn-warning\"}\r\n                                                onClick={this.onClickEditButton}\r\n                                            >\r\n                                                <i className=\"fas fa-edit\"></i> Edit\r\n                                            </button>\r\n                                        </div>\r\n                                        :null\r\n                                    }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PostDetails));","import React, { Component } from 'react'\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { fetchPosts, likePost, cancelLikedPost, dislikePost, cancelDislikedPost } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions } from \"../shared/global\";\r\nimport styles from './PostsComponent.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchPosts: (pageNumber, pageSize, postParams, onSuccess, onError) => { \r\n        dispatch(fetchPosts(pageNumber, pageSize, postParams, onSuccess, onError)); },\r\n    likePost: (userId, postId, onSuccess, onError) => { dispatch(likePost(userId, postId, onSuccess, onError)); },\r\n    cancelLikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelLikedPost(userId, postId, onSuccess, onError)); },\r\n    dislikePost: (userId, postId, onSuccess, onError) => { dispatch(dislikePost(userId, postId, onSuccess, onError)); },\r\n    cancelDislikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelDislikedPost(userId, postId, onSuccess, onError)); }\r\n});\r\n\r\nconst orderByOptions = [\r\n    {value:'relevance', display:'Most Relevant'}, \r\n    {value:'updated', display:'Updated Time'}, \r\n    {value:'created', display:'Created Time'}, \r\n    {value:'likes', display:'Most Liked'},\r\n    {value:'dislikes', display:'Most Disliked'}\r\n]\r\n\r\nclass Posts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            posts: null,\r\n            postParams:{\r\n                category: this.props.location.state?this.props.location.state.category||\"\":\"\",\r\n                search: this.props.location.state?this.props.location.state.search||\"\":\"\",\r\n                orderBy: \"updated\"\r\n            },\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            }\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleLikePost = this.handleLikePost.bind(this);\r\n        this.onClickPost = this.onClickPost.bind(this);\r\n\r\n        this.handleInputChangePostParamsForm = this.handleInputChangePostParamsForm.bind(this);\r\n        this.handleSubmitPostParamsForm = this.handleSubmitPostParamsForm.bind(this);\r\n\r\n        this.onClickEditPostButton = this.onClickEditPostButton.bind(this);\r\n\r\n        console.log(this.props.location);\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n            this.loadPosts(this.state.pagination.currentPage);\r\n         }, 1);\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        this.loadPosts(pageIndex);\r\n    }\r\n\r\n    isPostLiked(postIndex){\r\n        return this.state.posts[postIndex].likers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleLikePost(postIndex){\r\n        console.log(\"PostsComponent.handleLikePost\",postIndex);\r\n        \r\n        if(!this.isPostLiked(postIndex)){\r\n            this.props.likePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].likers.push(this.props.authUser.id);\r\n\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelLikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Cancel liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                    \r\n                    \r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n\r\n    isPostDisliked(postIndex){\r\n        return this.state.posts[postIndex].dislikers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleDislikePost(postIndex){\r\n        console.log(\"PostsComponent.handleDislikePost\",postIndex);\r\n\r\n        if(!this.isPostDisliked(postIndex)){\r\n            this.props.dislikePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Disliked post successfully!');\r\n\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].dislikers.push(this.props.authUser.id);\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelDislikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Cancel disliked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n    \r\n    onClickPost(postId){\r\n        this.props.history.push(`/posts/${postId}`);\r\n    }\r\n\r\n    onClickEditPostButton(postId){\r\n        this.props.history.push(`/posts/${postId}/edit`);\r\n    }\r\n\r\n    loadPosts(pageIndex){\r\n        this.props.fetchPosts(\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.postParams,\r\n            (posts, pagination)=>{\r\n                alertifyService.success('Fetched posts successfully!');\r\n\r\n                this.setState({\r\n                    posts: posts,\r\n                    pagination: pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleInputChangePostParamsForm(event){\r\n\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            postParams: {...this.state.postParams, \r\n                [name]: value\r\n            }\r\n        });\r\n\r\n        if(name==\"category\" || name==\"orderBy\"){\r\n            setTimeout(()=>{\r\n            this.loadPosts(1);\r\n         }, 1);\r\n        }\r\n    }\r\n\r\n    handleSubmitPostParamsForm(event){\r\n        event.preventDefault();\r\n        this.loadPosts(1);\r\n    }\r\n\r\n    render() {\r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"text-left mb-4\">\r\n                        <h2><i className=\"fas fa-search\"></i> Search Study Resources</h2>\r\n                    </div>\r\n                    <form className=\"row\" noValidate>   \r\n                       \r\n                        <div className=\"form-inline ml-3 mb-2\">\r\n                                <label className=\"mr-2\">Category</label>\r\n                                <select className=\"form-control\" style={{width: \"108px\"}} name=\"category\"\r\n                                    value={this.state.postParams.category}\r\n                                    onChange={this.handleInputChangePostParamsForm}\r\n                                >\r\n                                    <option key={\"all\"} value={\"\"}>\r\n                                        { \"All\" }\r\n                                    </option>\r\n                                {\r\n                                    postCategoryOptions.map(category=>{\r\n                                        return (\r\n                                            <option key={category.value} value={category.value}>\r\n                                                { category.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                                </select>\r\n                            </div>\r\n                  \r\n                     \r\n                  \r\n                        \r\n                        <div className=\"col-sm-12 col-lg mb-2\" >\r\n                    \r\n                        <div className=\"input-group \">\r\n                            <input className=\"form-control\"  type=\"text\" placeholder=\"Web Development\"\r\n                                value={this.state.postParams.search}\r\n                                onChange={this.handleInputChangePostParamsForm}\r\n                                name=\"search\"\r\n                            />\r\n                       \r\n                            <div className=\"input-group-append\">\r\n                             \r\n                                <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleSubmitPostParamsForm}>Search</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        </div>\r\n                    \r\n                        <div className=\"form-inline ml-auto mb-2\">\r\n                            <label className=\"mr-2\">Order By</label>\r\n                            <select className=\"form-control\" style={{width: \"166px\"}} name=\"orderBy\"\r\n                                value={this.state.postParams.orderBy}\r\n                                onChange={this.handleInputChangePostParamsForm}\r\n                            >\r\n                                {\r\n                                    orderByOptions.map(orderBy=>{\r\n                                        return (\r\n                                            <option key={orderBy.value} value={orderBy.value}>\r\n                                                { orderBy.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        {/* <button type=\"submit\" className=\"btn btn-primary\" >Search</button> */}\r\n                        {/* <button type=\"button\" className=\"btn btn-info\" style={{marginLeft:\"10px\"}}\r\n                        >Reset Filter</button> */}\r\n                    \r\n                    </form>\r\n                    <br/>\r\n                    <div className=\"row mb-4\">                    \r\n                        {\r\n                            this.state.posts && this.state.posts.length?\r\n                            this.state.posts.map((post, index)=>{\r\n                                return(\r\n                                    <div key={post.id} className={\"col-12 p-4 border-bottom \"+(index==0?\"border-top \":\"\")+styles.divPost} onClick={()=>this.onClickPost(post.id)}>\r\n\r\n                                        <div className={\"row text-left\"} >\r\n                                            \r\n                                            {/* <div className=\"col-12 my-auto px-5 px-sm-2 col-sm-2\"> */}\r\n                                            <div className=\"my-auto text-center col-12 px-5 col-sm-2 px-sm-3\">\r\n                                                <img className={\" \"+styles.imgCardSide} src={post.mainPostImageUrl}></img>\r\n                                            </div>\r\n                                            {/* <div className=\"col pt-0 pt-sm-2\"> */}\r\n                                         \r\n                                            <div className=\"col mt-3 mt-md-0\">\r\n                                                <h3 className=\"\">{post.title}</h3>\r\n                                                <div className=\"mb-2 text-secondary\">\r\n                                                    <span>Updated: {(new Date(post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})}</span>\r\n                                                </div>\r\n                                                <div className=\"mb-2\">\r\n                                                    <strong className=\"font-weight-bold\">Category: </strong> {post.category.toUpperCase()}\r\n                                                </div>\r\n                                                <div className=\"mb-3\">\r\n                                                    <strong className=\"font-weight-bold\">Tags: </strong> {post.tags.join(\", \")}\r\n                                                </div>\r\n                                              \r\n                                                <div className=\"mb-5\">{post.description}</div>\r\n                                                {\r\n                                                    this.props.isAuthenticated?\r\n                                                    <div className={\"row text-left\"} >\r\n                                                        <div className=\"col\">\r\n                                                            <button className={\"btn mr-2 \"+(post.likers.includes(this.props.authUser.id)?\"btn-success\":\"btn-outline-secondary\")}\r\n                                                                onClick={(e)=>{\r\n                                                                    e.stopPropagation(); \r\n                                                                    this.handleLikePost(index)}}\r\n                                                            >\r\n                                                                <i className=\"far fa-thumbs-up\"></i> Like · {post.likers.length}\r\n                                                            </button>\r\n                                                            <button className={\"btn \"+(post.dislikers.includes(this.props.authUser.id)?\"btn-danger\":\"btn-outline-secondary\")}\r\n                                                                onClick={(e)=>{\r\n                                                                    e.stopPropagation(); \r\n                                                                    this.handleDislikePost(index)}}\r\n                                                            >\r\n                                                                <i className=\"far fa-thumbs-down\"></i> Dislike · {post.dislikers.length}\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        {\r\n                                                            post.author.id==this.props.authUser.id?\r\n                                                            <div className=\"col-4 text-right\">\r\n                                                                <button className={\"btn btn-warning\"}\r\n                                                                    onClick={(e)=>{\r\n                                                                        e.stopPropagation();\r\n                                                                        this.onClickEditPostButton(post.id);\r\n                                                                    }}\r\n                                                                >\r\n                                                                    <i className=\"fas fa-edit\"></i> Edit\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            :null\r\n                                                        }\r\n                                                    </div>\r\n                                                    :\r\n                                                    <div className={\"row text-left\"} >\r\n                                                    <div className=\"col\">\r\n                                                        <button className={\"btn mr-2 btn-outline-secondary\"}\r\n                                                             onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.props.showModal(\"login\"); }}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-up\"></i> Like · {post.likers.length}\r\n                                                        </button>\r\n                                                        <button className={\"btn btn-outline-secondary\"}\r\n                                                            onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.props.showModal(\"login\"); }}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-down\"></i> Dislike · {post.dislikers.length}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                }\r\n                                                {/* <span className=\"ml-auto text-right\">\r\n                                                    \r\n                                                </span> */}\r\n                                                {/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\r\n                                            </div>\r\n                                            {/* <div className=\"card-footer text-muted\">\r\n                                                2 days ago\r\n                                            </div> */}\r\n                                        </div>\r\n                                    </div>\r\n                                    // <div key={post.id} className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                                    //     {post.title}\r\n                                    // </div>\r\n                                );\r\n                            })\r\n                            :\r\n                            this.state.posts && this.state.posts.length==0?\r\n                            <h3 className=\"mx-auto text-secondary\">\r\n                                No relevant post yet.\r\n                            </h3>\r\n                            :null\r\n                        }                 \r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Posts));","import React, { Component, useCallback } from 'react'\r\nimport { fetchPost, updatePost } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions } from \"../shared/global\";\r\nimport TagsInput from 'react-tagsinput'\r\nimport 'react-tagsinput/react-tagsinput.css' // If using WebPack and style-loader.\r\n\r\nimport Autosuggest from 'react-autosuggest'\r\nimport './CreatePostComponent.css';\r\nimport Dropzone, {useDropzone} from 'react-dropzone';\r\nimport { required, minLength, maxLength } from '../shared/validators';\r\nimport styles from './CreatePostComponent.module.scss';\r\nimport PostForm from \"./PostFormComponent\";\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\n\r\nfunction states () {\r\n    return [\r\n      {name: 'Web Development'},\r\n      {name: 'Machine Learning'},\r\n      {name: 'Game Development'},\r\n      {name: 'Virtual Reality'}\r\n    ]\r\n  }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchPost: (id, onSuccess, onError) => { dispatch(fetchPost(id, onSuccess, onError)); },\r\n    updatePost: (id, title, description, category, tags, links, deletedImages, addedImages, mainImage, onSuccess, onError) => \r\n    { dispatch(updatePost(id, title, description, category, tags, links, deletedImages, addedImages, mainImage, onSuccess, onError)) }\r\n});\r\n\r\nconst minTitleLength = 4;\r\nconst maxTitleLength = 100;\r\nconst minDescriptionLength = 20;\r\nconst maxDescriptionLength = 800;\r\nconst maxTagNumber = 5;\r\n\r\nclass EditPost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            post: null\r\n        }\r\n\r\n        this.onSubmitPost = this.onSubmitPost.bind(this);\r\n        this.onClickCancelButton = this.onClickCancelButton.bind(this);\r\n\r\n        // console.log(this.props.match.params.id);\r\n        // console.log(this.props.authUser.posts);\r\n        // console.log(this.props.authUser.posts.includes(Number(this.props.match.params.id)));\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(!this.props.authUser.posts.includes(Number(this.props.match.params.id))){\r\n            return;\r\n        }\r\n        \r\n        setTimeout(this.props.fetchPost(\r\n            this.props.match.params.id,\r\n            (post)=>{                    \r\n                alertifyService.success('Fetched post '+this.props.match.params.id+' successfully!');     \r\n\r\n                // post.tags = post.tags.split('|');\r\n                let links = post.links.split(',');\r\n                for(let i=0;i<links.length; i++){\r\n                    links[i] = decodeURIComponent(links[i]);\r\n                }\r\n                post.links = links;\r\n                console.log(post);\r\n                this.setState({\r\n                    post: post\r\n                });\r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        ),1);\r\n    }\r\n\r\n    onClickCancelButton(event){\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    onSubmitPost(\r\n        title,\r\n        description,\r\n        category,\r\n        tags,\r\n        encodedLinks,\r\n        images,\r\n        mainImage\r\n    ){\r\n        console.log(\"EditPostComponent\",title,description,category,tags,encodedLinks,images,mainImage);\r\n        \r\n        let deletedImages = [];\r\n        let addedImages = [];\r\n\r\n        this.state.post.postImages.forEach(postImage=>{\r\n            let index = images.findIndex(image=>image.id==postImage.id);\r\n            if(index==-1){\r\n                deletedImages.push(postImage.id);\r\n            }\r\n        });\r\n\r\n        images.forEach(image => {\r\n            if(image.path!=null){\r\n                addedImages.push(image);\r\n            }\r\n        });\r\n\r\n        let addedImageStartIndex = images.length - addedImages.length;\r\n\r\n        if(mainImage>=addedImageStartIndex)\r\n        {\r\n            mainImage = mainImage - addedImageStartIndex;\r\n        }\r\n        else{\r\n            mainImage = -images[mainImage].id;\r\n        }\r\n\r\n        console.log(\"updatePost\",deletedImages,addedImages,mainImage);\r\n\r\n        this.props.updatePost(\r\n            this.props.match.params.id,\r\n            title,\r\n            description,\r\n            category,\r\n            tags,\r\n            encodedLinks,\r\n            deletedImages.join(\",\"),\r\n            addedImages,\r\n            mainImage,\r\n            (user)=>{\r\n                alertifyService.success(\"Updated post successfully!\");\r\n                this.props.history.push(`/posts/${this.props.match.params.id}`);\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.authUser.posts.includes(Number(this.props.match.params.id))){\r\n            return <Redirect to={{ pathname: '/home' }} />;\r\n        }\r\n\r\n        return(\r\n            <div className=\"container mt-4\">\r\n                \r\n                <h1 className=\"mb-4 text-left\">\r\n                    Edit Post {this.props.match.params.id}\r\n                </h1>\r\n                <div className=\"card\">\r\n              \r\n                    <div className=\"card-body\">\r\n                    {\r\n                        this.state.post!=null?\r\n                        <React.Fragment>\r\n                            <PostForm\r\n                                post={this.state.post}\r\n                                onSubmitPost={this.onSubmitPost}\r\n                            />\r\n                            <div className=\"text-left row \">\r\n                                <div className=\"offset-md-2 col\">\r\n                                    <button className=\"btn btn-info btn-lg mr-3 \" type=\"submit\" form=\"post-form\">\r\n                                        Update\r\n                                    </button>\r\n                                    <button className=\"btn btn-secondary btn-lg\" onClick={this.onClickCancelButton}>\r\n                                        Cancel\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </React.Fragment>\r\n                        :null\r\n                    }\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EditPost));","import React, { Component } from 'react'\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { fetchLikedPosts, likePost, cancelLikedPost, dislikePost, cancelDislikedPost } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions } from \"../shared/global\";\r\nimport styles from './PostsComponent.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchLikedPosts: (userId, pageNumber, pageSize, postParams, onSuccess, onError) => { \r\n        dispatch(fetchLikedPosts(userId, pageNumber, pageSize, postParams, onSuccess, onError)); },\r\n    likePost: (userId, postId, onSuccess, onError) => { dispatch(likePost(userId, postId, onSuccess, onError)); },\r\n    cancelLikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelLikedPost(userId, postId, onSuccess, onError)); },\r\n    dislikePost: (userId, postId, onSuccess, onError) => { dispatch(dislikePost(userId, postId, onSuccess, onError)); },\r\n    cancelDislikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelDislikedPost(userId, postId, onSuccess, onError)); }\r\n});\r\n\r\nconst orderByOptions = [\r\n    {value:'likedTime', display:'Liked Time'},\r\n    {value:'updated', display:'Updated Time'}\r\n]\r\n\r\nclass LikedPosts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            posts: null,\r\n            postParams:{\r\n                category: \"\",\r\n                orderBy: \"likedTime\"\r\n            },\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            }\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleLikePost = this.handleLikePost.bind(this);\r\n        this.onClickPost = this.onClickPost.bind(this);\r\n\r\n        this.handleInputChangePostParamsForm = this.handleInputChangePostParamsForm.bind(this);\r\n        this.handleSubmitPostParamsForm = this.handleSubmitPostParamsForm.bind(this);\r\n\r\n        this.onClickEditPostButton = this.onClickEditPostButton.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n            this.loadPosts(this.state.pagination.currentPage);\r\n         }, 1);\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        this.loadPosts(pageIndex);\r\n    }\r\n\r\n    isPostLiked(postIndex){\r\n        return this.state.posts[postIndex].likers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleLikePost(postIndex){\r\n        console.log(\"PostsComponent.handleLikePost\",postIndex);\r\n        \r\n        if(!this.isPostLiked(postIndex)){\r\n            this.props.likePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].likers.push(this.props.authUser.id);\r\n\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelLikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Cancel liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                    \r\n                    \r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n\r\n    isPostDisliked(postIndex){\r\n        return this.state.posts[postIndex].dislikers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleDislikePost(postIndex){\r\n        console.log(\"PostsComponent.handleDislikePost\",postIndex);\r\n\r\n        if(!this.isPostDisliked(postIndex)){\r\n            this.props.dislikePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Disliked post successfully!');\r\n\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].dislikers.push(this.props.authUser.id);\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelDislikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Cancel disliked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n    \r\n    onClickPost(postId){\r\n        this.props.history.push(`/posts/${postId}`);\r\n    }\r\n\r\n    onClickEditPostButton(postId){\r\n        this.props.history.push(`/posts/${postId}/edit`);\r\n    }\r\n\r\n    loadPosts(pageIndex){\r\n        console.log('LikedPostsComponent.loadPosts',this.state.postParams);\r\n        this.props.fetchLikedPosts(\r\n            this.props.authUser.id,\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.postParams,\r\n            (posts, pagination)=>{\r\n                alertifyService.success('Fetched posts successfully!');\r\n                console.log(posts);\r\n\r\n                this.setState({\r\n                    posts: posts,\r\n                    pagination: pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleInputChangePostParamsForm(event){\r\n\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        console.log(name,value);\r\n\r\n        this.setState({\r\n            postParams: {...this.state.postParams, \r\n                [name]: value\r\n            }\r\n        });\r\n\r\n        if(name==\"category\" || name==\"orderBy\"){\r\n            setTimeout(()=>{\r\n            this.loadPosts(1);\r\n         }, 1);\r\n        }\r\n    }\r\n\r\n    handleSubmitPostParamsForm(event){\r\n        event.preventDefault();\r\n        this.loadPosts(1);\r\n    }\r\n\r\n    render() {\r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"text-left mb-4\">\r\n                        <h2><i className=\"far fa-thumbs-up\"></i> Posts I Liked</h2>\r\n                    </div>\r\n                    <form className=\"row\" noValidate>   \r\n                       \r\n                        <div className=\"form-inline ml-3 mb-2\">\r\n                                <label className=\"mr-2\">Category</label>\r\n                                <select className=\"form-control\" style={{width: \"108px\"}} name=\"category\"\r\n                                    value={this.state.postParams.category}\r\n                                    onChange={this.handleInputChangePostParamsForm}\r\n                                >\r\n                                    <option key={\"all\"} value={\"\"}>\r\n                                        { \"All\" }\r\n                                    </option>\r\n                                {\r\n                                    postCategoryOptions.map(category=>{\r\n                                        return (\r\n                                            <option key={category.value} value={category.value}>\r\n                                                { category.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                                </select>\r\n                            </div>\r\n                  \r\n                     \r\n                  \r\n                        \r\n                        {/* <div className=\"col-sm-12 col-lg mb-2\" >\r\n                    \r\n                            <div className=\"input-group \">\r\n                                <input className=\"form-control\"  type=\"text\" placeholder=\"Web Development\"\r\n                                    value={this.state.postParams.search}\r\n                                    onChange={this.handleInputChangePostParamsForm}\r\n                                    name=\"search\"\r\n                                />\r\n                        \r\n                                <div className=\"input-group-append\">\r\n                                \r\n                                    <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleSubmitPostParamsForm}>Search</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div> */}\r\n                    \r\n                        <div className=\"form-inline ml-auto mb-2\">\r\n                            <label className=\"mr-2\">Order By</label>\r\n                            <select className=\"form-control\" style={{width: \"166px\"}} name=\"orderBy\"\r\n                                value={this.state.postParams.orderBy}\r\n                                onChange={this.handleInputChangePostParamsForm}\r\n                            >\r\n                                {\r\n                                    orderByOptions.map(orderBy=>{\r\n                                        return (\r\n                                            <option key={orderBy.value} value={orderBy.value}>\r\n                                                { orderBy.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        {/* <button type=\"submit\" className=\"btn btn-primary\" >Search</button> */}\r\n                        {/* <button type=\"button\" className=\"btn btn-info\" style={{marginLeft:\"10px\"}}\r\n                        >Reset Filter</button> */}\r\n                    \r\n                    </form>\r\n                    <br/>\r\n                    <div className=\"row mb-4\">                    \r\n                        {\r\n                            this.state.posts && this.state.posts.length>0?\r\n                            this.state.posts.map((post, index)=>{\r\n                                return(\r\n                                    <div key={post.id} className={\"col-12 p-4 border-bottom \"+(index==0?\"border-top \":\"\")+styles.divPost} onClick={()=>this.onClickPost(post.id)}>\r\n\r\n                                        <div className={\"row text-left\"} >\r\n                                            \r\n                                            {/* <div className=\"col-12 my-auto px-5 px-sm-2 col-sm-2\"> */}\r\n                                            <div className=\"my-auto text-center col-12 px-5 col-sm-2 px-sm-3\">\r\n                                                <img className={\" \"+styles.imgCardSide} src={post.mainPostImageUrl}></img>\r\n                                            </div>\r\n                                            {/* <div className=\"col pt-0 pt-sm-2\"> */}\r\n                                         \r\n                                            <div className=\"col mt-3 mt-md-0\">\r\n                                                <h3 className=\"\">{post.title}</h3>\r\n                                                <div className=\"mb-2 text-secondary\">\r\n                                                    <span className=\"mr-2\">Liked: {(new Date(post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})},</span>\r\n                                                    <span>Updated: {(new Date(post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})}</span>\r\n                                                </div>\r\n                                                <div className=\"mb-2\">\r\n                                                    <strong className=\"font-weight-bold\">Category: </strong> {post.category.toUpperCase()}\r\n                                                </div>\r\n                                                <div className=\"mb-3\">\r\n                                                    <strong className=\"font-weight-bold\">Tags: </strong> {post.tags.join(\", \")}\r\n                                                </div>\r\n                                              \r\n                                               \r\n                                                <div className=\"mb-5\">{post.description}</div>\r\n                                                <div className={\"row text-left\"} >\r\n                                                    <div className=\"col\">\r\n                                                        <button className={\"btn mr-2 \"+(post.likers.includes(this.props.authUser.id)?\"btn-success\":\"btn-secondary\")}\r\n                                                            onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.handleLikePost(index)}}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-up\"></i> Like · {post.likers.length}\r\n                                                        </button>\r\n                                                        <button className={\"btn \"+(post.dislikers.includes(this.props.authUser.id)?\"btn-danger\":\"btn-secondary\")}\r\n                                                            onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.handleDislikePost(index)}}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-down\"></i> Dislike · {post.dislikers.length}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                    {\r\n                                                        post.author.id==this.props.authUser.id?\r\n                                                        <div className=\"col-4 text-right\">\r\n                                                            <button className={\"btn btn-warning\"}\r\n                                                                onClick={(e)=>{\r\n                                                                    e.stopPropagation();\r\n                                                                    this.onClickEditPostButton(post.id);\r\n                                                                }}\r\n                                                            >\r\n                                                                <i className=\"fas fa-edit\"></i> Edit\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        :null\r\n                                                    }\r\n                                                </div>\r\n                                                {/* <span className=\"ml-auto text-right\">\r\n                                                    \r\n                                                </span> */}\r\n                                                {/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\r\n                                            </div>\r\n                                            {/* <div className=\"card-footer text-muted\">\r\n                                                2 days ago\r\n                                            </div> */}\r\n                                        </div>\r\n                                    </div>\r\n                                    // <div key={post.id} className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                                    //     {post.title}\r\n                                    // </div>\r\n                                );\r\n                            })\r\n                            :\r\n                            this.state.posts && this.state.posts.length==0?\r\n                            <h3 className=\"mx-auto text-secondary\">\r\n                                You didn't like any post.\r\n                            </h3>\r\n                            :null\r\n                        }                 \r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LikedPosts));","import React, { Component } from 'react'\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { fetchUserPosts, likePost, cancelLikedPost, dislikePost, cancelDislikedPost } from '../redux/ActionCreators';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { connect } from 'react-redux';\r\nimport { postCategoryOptions } from \"../shared/global\";\r\nimport styles from './PostsComponent.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authUser: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUserPosts: (userId, pageNumber, pageSize, postParams, onSuccess, onError) => { \r\n        dispatch(fetchUserPosts(userId, pageNumber, pageSize, postParams, onSuccess, onError)); },\r\n    likePost: (userId, postId, onSuccess, onError) => { dispatch(likePost(userId, postId, onSuccess, onError)); },\r\n    cancelLikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelLikedPost(userId, postId, onSuccess, onError)); },\r\n    dislikePost: (userId, postId, onSuccess, onError) => { dispatch(dislikePost(userId, postId, onSuccess, onError)); },\r\n    cancelDislikedPost: (userId, postId, onSuccess, onError) => { dispatch(cancelDislikedPost(userId, postId, onSuccess, onError)); }\r\n});\r\n\r\nconst orderByOptions = [\r\n    {value:'created', display:'Created Time'},\r\n    {value:'updated', display:'Updated Time'}\r\n]\r\n\r\nclass UserPosts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            posts: null,\r\n            postParams:{\r\n                category: \"\",\r\n                orderBy: \"updated\"\r\n            },\r\n            pagination: {\r\n                currentPage: 1,\r\n                itemsPerPage: 5,\r\n                totalItems: 0,\r\n                totalPages: 0\r\n            }\r\n        };\r\n\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleLikePost = this.handleLikePost.bind(this);\r\n        this.onClickPost = this.onClickPost.bind(this);\r\n\r\n        this.handleInputChangePostParamsForm = this.handleInputChangePostParamsForm.bind(this);\r\n        this.handleSubmitPostParamsForm = this.handleSubmitPostParamsForm.bind(this);\r\n\r\n        this.onClickEditPostButton = this.onClickEditPostButton.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n            this.loadPosts(this.state.pagination.currentPage);\r\n         }, 1);\r\n    }\r\n\r\n    handleChangePage(pageIndex){\r\n        this.loadPosts(pageIndex);\r\n    }\r\n\r\n    isPostLiked(postIndex){\r\n        return this.state.posts[postIndex].likers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleLikePost(postIndex){\r\n        console.log(\"PostsComponent.handleLikePost\",postIndex);\r\n        \r\n        if(!this.isPostLiked(postIndex)){\r\n            this.props.likePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].likers.push(this.props.authUser.id);\r\n\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelLikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Cancel liked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                    \r\n                    \r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n\r\n    isPostDisliked(postIndex){\r\n        return this.state.posts[postIndex].dislikers.includes(this.props.authUser.id);\r\n    }\r\n\r\n    handleDislikePost(postIndex){\r\n        console.log(\"PostsComponent.handleDislikePost\",postIndex);\r\n\r\n        if(!this.isPostDisliked(postIndex)){\r\n            this.props.dislikePost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                    alertifyService.success('Disliked post successfully!');\r\n\r\n                    let posts = this.state.posts;\r\n                    posts[postIndex].dislikers.push(this.props.authUser.id);\r\n                    \r\n                    let authUserLikerIndex = this.state.posts[postIndex].likers.indexOf(this.props.authUser.id);\r\n                    if(authUserLikerIndex!=-1){\r\n                        posts[postIndex].likers.splice(authUserLikerIndex,1);\r\n                    }\r\n\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }else{\r\n            this.props.cancelDislikedPost(\r\n                this.props.authUser.id,\r\n                this.state.posts[postIndex].id,\r\n                (res)=>{\r\n                \r\n                    alertifyService.success('Cancel disliked post successfully!');\r\n                    let posts = this.state.posts;\r\n                    let authUserDislikerIndex = this.state.posts[postIndex].dislikers.indexOf(this.props.authUser.id);\r\n                    if(authUserDislikerIndex!=-1){\r\n                        posts[postIndex].dislikers.splice(authUserDislikerIndex,1);\r\n                    }\r\n                    this.setState({\r\n                        posts: posts\r\n                    });\r\n                },\r\n                (error)=>{\r\n                    alertifyService.error(error.message);\r\n                },\r\n            );\r\n        }\r\n    }\r\n    \r\n    onClickPost(postId){\r\n        this.props.history.push(`/posts/${postId}`);\r\n    }\r\n\r\n    onClickEditPostButton(postId){\r\n        this.props.history.push(`/posts/${postId}/edit`);\r\n    }\r\n\r\n    loadPosts(pageIndex){\r\n        console.log('UserPostsComponent.loadPosts',this.state.postParams);\r\n        this.props.fetchUserPosts(\r\n            this.props.match.params.id,\r\n            pageIndex,\r\n            this.state.pagination.itemsPerPage,\r\n            this.state.postParams,\r\n            (posts, pagination)=>{\r\n                alertifyService.success('Fetched posts successfully!');\r\n                console.log(posts);\r\n\r\n                this.setState({\r\n                    posts: posts,\r\n                    pagination: pagination\r\n                });\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            },\r\n        );\r\n    }\r\n\r\n    handleInputChangePostParamsForm(event){\r\n\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        console.log(name,value);\r\n\r\n        this.setState({\r\n            postParams: {...this.state.postParams, \r\n                [name]: value\r\n            }\r\n        });\r\n\r\n        if(name==\"category\" || name==\"orderBy\"){\r\n            setTimeout(()=>{\r\n            this.loadPosts(1);\r\n         }, 1);\r\n        }\r\n    }\r\n\r\n    handleSubmitPostParamsForm(event){\r\n        event.preventDefault();\r\n        this.loadPosts(1);\r\n    }\r\n\r\n    render() {\r\n        let paginationItems = [];\r\n        if(this.state.pagination){\r\n            for (let pageIndex = 1; pageIndex <= this.state.pagination.totalPages; pageIndex++) {\r\n                paginationItems.push(\r\n                    <Pagination.Item key={pageIndex} \r\n                        active={pageIndex === this.state.pagination.currentPage}\r\n                        onClick={(e)=>{this.handleChangePage(pageIndex)}}\r\n                    >\r\n                        {pageIndex}\r\n                    </Pagination.Item>,\r\n                );\r\n            }\r\n        }\r\n\r\n        return(\r\n            \r\n            <div>\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"text-left mb-4\">\r\n                        <h2><i className=\"far fa-folder-open\"></i> {\r\n                            this.props.authUser.id==this.props.match.params.id?\r\n                            this.props.authUser.username\r\n                            :`User ${this.props.match.params.id}`\r\n                            }'s Posts</h2>\r\n                    </div>\r\n                    <form className=\"row\" noValidate>   \r\n                       \r\n                        <div className=\"form-inline ml-3 mb-2\">\r\n                                <label className=\"mr-2\">Category</label>\r\n                                <select className=\"form-control\" style={{width: \"108px\"}} name=\"category\"\r\n                                    value={this.state.postParams.category}\r\n                                    onChange={this.handleInputChangePostParamsForm}\r\n                                >\r\n                                    <option key={\"all\"} value={\"\"}>\r\n                                        { \"All\" }\r\n                                    </option>\r\n                                {\r\n                                    postCategoryOptions.map(category=>{\r\n                                        return (\r\n                                            <option key={category.value} value={category.value}>\r\n                                                { category.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                                </select>\r\n                            </div>\r\n                  \r\n                     \r\n                  \r\n                        \r\n                        {/* <div className=\"col-sm-12 col-lg mb-2\" >\r\n                    \r\n                            <div className=\"input-group \">\r\n                                <input className=\"form-control\"  type=\"text\" placeholder=\"Web Development\"\r\n                                    value={this.state.postParams.search}\r\n                                    onChange={this.handleInputChangePostParamsForm}\r\n                                    name=\"search\"\r\n                                />\r\n                        \r\n                                <div className=\"input-group-append\">\r\n                                \r\n                                    <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleSubmitPostParamsForm}>Search</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div> */}\r\n                    \r\n                        <div className=\"form-inline ml-auto mb-2\">\r\n                            <label className=\"mr-2\">Order By</label>\r\n                            <select className=\"form-control\" style={{width: \"166px\"}} name=\"orderBy\"\r\n                                value={this.state.postParams.orderBy}\r\n                                onChange={this.handleInputChangePostParamsForm}\r\n                            >\r\n                                {\r\n                                    orderByOptions.map(orderBy=>{\r\n                                        return (\r\n                                            <option key={orderBy.value} value={orderBy.value}>\r\n                                                { orderBy.display }\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        {/* <button type=\"submit\" className=\"btn btn-primary\" >Search</button> */}\r\n                        {/* <button type=\"button\" className=\"btn btn-info\" style={{marginLeft:\"10px\"}}\r\n                        >Reset Filter</button> */}\r\n                    \r\n                    </form>\r\n                    <br/>\r\n                    <div className=\"row mb-4\">                    \r\n                        {\r\n                            this.state.posts&&this.state.posts.length?\r\n                            this.state.posts.map((post, index)=>{\r\n                                return(\r\n                                    <div key={post.id} className={\"col-12 p-4 border-bottom \"+(index==0?\"border-top \":\"\")+styles.divPost} onClick={()=>this.onClickPost(post.id)}>\r\n\r\n                                        <div className={\"row text-left\"} >\r\n                                            \r\n                                            {/* <div className=\"col-12 my-auto px-5 px-sm-2 col-sm-2\"> */}\r\n                                            <div className=\"my-auto text-center col-12 px-5 col-sm-2 px-sm-3\">\r\n                                                <img className={\" \"+styles.imgCardSide} src={post.mainPostImageUrl}></img>\r\n                                            </div>\r\n                                            {/* <div className=\"col pt-0 pt-sm-2\"> */}\r\n                                         \r\n                                            <div className=\"col mt-3 mt-md-0\">\r\n                                                <h3 className=\"\">{post.title}</h3>\r\n                                                <div className=\"mb-2 text-secondary\">\r\n                                                    <span className=\"mr-2\">Liked: {(new Date(post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})},</span>\r\n                                                    <span>Updated: {(new Date(post.updated)).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric'})}</span>\r\n                                                </div>\r\n                                                <div className=\"mb-2\">\r\n                                                    <strong className=\"font-weight-bold\">Category: </strong> {post.category.toUpperCase()}\r\n                                                </div>\r\n                                                <div className=\"mb-3\">\r\n                                                    <strong className=\"font-weight-bold\">Tags: </strong> {post.tags.join(\", \")}\r\n                                                </div>\r\n                                              \r\n                                               \r\n                                                <div className=\"mb-5\">{post.description}</div>\r\n                                                <div className={\"row text-left\"} >\r\n                                                    <div className=\"col\">\r\n                                                        <button className={\"btn mr-2 \"+(post.likers.includes(this.props.authUser.id)?\"btn-success\":\"btn-secondary\")}\r\n                                                            onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.handleLikePost(index)}}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-up\"></i> Like · {post.likers.length}\r\n                                                        </button>\r\n                                                        <button className={\"btn \"+(post.dislikers.includes(this.props.authUser.id)?\"btn-danger\":\"btn-secondary\")}\r\n                                                            onClick={(e)=>{\r\n                                                                e.stopPropagation(); \r\n                                                                this.handleDislikePost(index)}}\r\n                                                        >\r\n                                                            <i className=\"far fa-thumbs-down\"></i> Dislike · {post.dislikers.length}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                    {\r\n                                                        post.author.id==this.props.authUser.id?\r\n                                                        <div className=\"col-4 text-right\">\r\n                                                            <button className={\"btn btn-warning\"}\r\n                                                                onClick={(e)=>{\r\n                                                                    e.stopPropagation();\r\n                                                                    this.onClickEditPostButton(post.id);\r\n                                                                }}\r\n                                                            >\r\n                                                                <i className=\"fas fa-edit\"></i> Edit\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        :null\r\n                                                    }\r\n                                                </div>\r\n                                                {/* <span className=\"ml-auto text-right\">\r\n                                                    \r\n                                                </span> */}\r\n                                                {/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\r\n                                            </div>\r\n                                            {/* <div className=\"card-footer text-muted\">\r\n                                                2 days ago\r\n                                            </div> */}\r\n                                        </div>\r\n                                    </div>\r\n                                    // <div key={post.id} className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                                    //     {post.title}\r\n                                    // </div>\r\n                                );\r\n                            })\r\n                            :\r\n                            this.state.posts && this.state.posts.length==0?\r\n                            <h3 className=\"mx-auto text-secondary\">\r\n                                {\r\n                                    this.props.authUser.id==this.props.match.params.id?\r\n                                    \"You\"\r\n                                    :`User ${this.props.match.params.id}`\r\n                                } didn't create any post.\r\n                            </h3>\r\n                            :null\r\n                        }                 \r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Pagination>\r\n                        <Pagination.First \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage!=1){\r\n                                    this.handleChangePage(1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        <Pagination.Prev \r\n                            onClick={(e)=>{                  \r\n                                if(this.state.pagination.currentPage>1){\r\n                                    this.handleChangePage(this.state.pagination.currentPage-1);\r\n                                }\r\n                            }}\r\n\r\n                            disabled={this.state.pagination.currentPage<=1}\r\n                        />\r\n                        {paginationItems}\r\n                        <Pagination.Next \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.currentPage+1);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                        <Pagination.Last \r\n                            onClick={(e)=>{\r\n                                if(this.state.pagination.currentPage<this.state.pagination.totalPages){\r\n                                    this.handleChangePage(this.state.pagination.totalPages);\r\n                                }\r\n                            }}\r\n                            disabled={this.state.pagination.currentPage>=this.state.pagination.totalPages}\r\n                        />\r\n                    </Pagination>\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserPosts));","import React, { Component } from 'react';\r\nimport { Control, LocalForm, Errors } from 'react-redux-form';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { required, minLength, maxLength, validDate } from '../shared/validators';\r\nimport { connect } from 'react-redux';\r\nimport { signupUser, loginUser } from '../redux/ActionCreators';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    signupUser: (creds, onSuccess, onError) => { dispatch(signupUser(creds, onSuccess, onError)) },\r\n    loginUser: (creds, onSuccess, onError) => { dispatch(loginUser(creds, onSuccess, onError)) }\r\n});\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            form: {\r\n                fields:{\r\n                    username: {\r\n                        value:''\r\n                    },\r\n                    dateOfBirth: {\r\n                        value:''\r\n                    },\r\n                    city: {\r\n                        value:''\r\n                    },\r\n                    country: {\r\n                        value:''\r\n                    },\r\n                    password: {\r\n                        value:'',\r\n                        visible:''\r\n                    },\r\n                    confirmPassword: {\r\n                        value:'',\r\n                        visible:''\r\n                    }\r\n                },\r\n                valid: false,\r\n                touched: false\r\n            }\r\n        };\r\n        \r\n        this.handleInputChangeForm = this.handleInputChangeForm.bind(this);\r\n        this.handleSubmitForm = this.handleSubmitForm.bind(this);\r\n        this.handleBlurForm = this.handleBlurForm.bind(this);\r\n        this.togglePasswordVisibility = this.togglePasswordVisibility.bind(this);\r\n\r\n        console.log(window);\r\n    }\r\n\r\n    handleInputChangeForm(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].value = value;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n    \r\n    handleBlurForm = (event) => {\r\n        const target = event.target;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    togglePasswordVisibility(name){\r\n        let form = this.state.form;\r\n        form.fields[name].visible = !form.fields[name].visible;\r\n        this.setState({\r\n            form\r\n        });\r\n    }\r\n\r\n    validateForm(form){\r\n\r\n        for (let key in form.fields) {\r\n            form.fields[key].error = null;\r\n        }\r\n        \r\n        form.valid = true;\r\n\r\n        if (!required(form.fields.username.value)){\r\n            form.valid = false;      \r\n            form.fields.username.error = 'Username is required.';\r\n        }\r\n    \r\n        if (!required(form.fields.password.value)){\r\n            form.valid = false;\r\n            form.fields.password.error = 'Password is required.';      \r\n        }\r\n\r\n        if (!required(form.fields.confirmPassword.value)){\r\n            form.valid = false;\r\n            form.fields.confirmPassword.error = 'Please re-enter your password.';\r\n        }\r\n        else if (form.fields.password.value != form.fields.confirmPassword.value){\r\n            form.valid = false;\r\n            form.fields.confirmPassword.error = 'Password and confirmed password do not match.';\r\n        }\r\n\r\n        return form;\r\n    }\r\n\r\n    showFormFieldError(name){\r\n        return this.state.form.fields[name].error && this.state.form.fields[name].touched\r\n    }\r\n\r\n    handleSubmitForm(event) {\r\n        event.preventDefault();\r\n        \r\n        let form = this.state.form;\r\n\r\n        if(form.touched){\r\n            if(!form.valid){\r\n               \r\n                for (let key in form.fields) {\r\n                    form.fields[key].touched = true;\r\n                }\r\n                form.touched = true;\r\n\r\n                this.setState({\r\n                    form\r\n                });\r\n    \r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n        else{\r\n            \r\n            for (let key in form.fields) {\r\n                form.fields[key].touched = true;\r\n            }\r\n            form.touched = true;\r\n\r\n            form = this.validateForm(form);\r\n\r\n            this.setState({\r\n                form\r\n            });\r\n\r\n            if(!form.valid){\r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n       \r\n        let creds = {\r\n            username:this.state.form.fields.username.value, \r\n            password:this.state.form.fields.password.value\r\n        };\r\n        this.props.signupUser(\r\n            creds,\r\n            (user)=>{\r\n                alertifyService.success(\"Registered user successfully!\");\r\n                this.props.close();\r\n                this.props.loginUser(creds,\r\n                    ()=>{\r\n                        alertifyService.success(\"Logged in successfully!\");\r\n                    },\r\n                    (error)=>{\r\n                        alertifyService.error(error.message);\r\n                    }\r\n                );\r\n            },\r\n            (error)=>{\r\n                alertifyService.error(error.message);\r\n            }\r\n        );\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(\"RegisterComponent.componentDidMount\",this.props);\r\n    }\r\n\r\n    render(){\r\n        // let {formErrors, formValid} = this.validateForm();\r\n\r\n        return(\r\n            <form className=\"\" noValidate onSubmit={this.handleSubmitForm}>\r\n                <h2 className=\"text-center text-primary my-2\">Sign Up</h2>\r\n                <hr className=\"mb-4\"/>\r\n\r\n                <div className=\"form-group\">\r\n                    <input name='username' type=\"text\" placeholder=\"Username\"\r\n                        className={\"form-control \"+(this.showFormFieldError('username')?'is-invalid':'')} \r\n                        autoComplete=\"new-username\"                        \r\n                        value={this.state.form.fields.username.value}\r\n                        onChange={this.handleInputChangeForm}\r\n                        onBlur={this.handleBlurForm}\r\n                        />\r\n                    <div className=\"invalid-feedback\">{this.showFormFieldError('username')?this.state.form.fields.username.error:''}</div>\r\n                </div>\r\n                {/* <div className=\"form-group\">\r\n                    <input name='dateOfBirth' type=\"date\" placeholder=\"Date of Birth\"\r\n                        className={\"form-control \"+(formErrors.dateOfBirth?'is-invalid':'')}                 \r\n                        value={this.state.form.fields.dateOfBirth.value}\r\n                        onChange={this.handleInputChangeForm}\r\n                        onBlur={this.handleBlurForm}\r\n                        />\r\n                    <div className=\"invalid-feedback\">{formErrors.dateOfBirth}</div>\r\n                </div> */}\r\n\r\n                {/* <div className=\"form-group\">\r\n                    <input name='city' type=\"text\" placeholder=\"City\"\r\n                        className={\"form-control \"+(formErrors.city?'is-invalid':'')}                 \r\n                        value={this.state.form.fields.city.value}\r\n                        onChange={this.handleInputChangeForm}\r\n                        onBlur={this.handleBlurForm}\r\n                        />\r\n                    <div className=\"invalid-feedback\">{formErrors.city}</div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <input name='country' type=\"text\" placeholder=\"Country\"\r\n                        className={\"form-control \"+(formErrors.country?'is-invalid':'')}                 \r\n                        value={this.state.form.fields.country.value}\r\n                        onChange={this.handleInputChangeForm}\r\n                        onBlur={this.handleBlurForm}\r\n                        />\r\n                    <div className=\"invalid-feedback\">{formErrors.country}</div>\r\n                </div> */}\r\n                <div className=\"form-group\">\r\n                    <div className=\"input-group\">\r\n                        <input name='password' type={this.state.form.fields.password.visible?\"text\":\"password\"} placeholder=\"Password\"\r\n                            className={\"form-control \"+(this.showFormFieldError('password')?'is-invalid':'')} \r\n                            autoComplete=\"new-password\"                            \r\n                            value={this.state.form.fields.password.value}\r\n                            onChange={this.handleInputChangeForm}\r\n                            onBlur={this.handleBlurForm}\r\n                        />\r\n                       \r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\">\r\n                                <i className={this.state.form.fields.password.visible?\"fa fa-eye-slash\":\"fa fa-eye\"}\r\n                                    style={{cursor: \"pointer\"}}\r\n                                    onClick={()=>this.togglePasswordVisibility('password')}>\r\n                                </i>\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"invalid-feedback\">{this.showFormFieldError('password')?this.state.form.fields.password.error:''}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <div className=\"input-group\">\r\n                        <input name='confirmPassword' type={this.state.form.fields.confirmPassword.visible?\"text\":\"password\"} placeholder=\"Confirm Password\"\r\n                            className={\"form-control \"+(this.showFormFieldError('confirmPassword')?'is-invalid':'')}\r\n                            value={this.state.form.fields.confirmPassword.value}\r\n                            onChange={this.handleInputChangeForm}\r\n                            onBlur={this.handleBlurForm}\r\n                        />\r\n                        \r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\">\r\n                                <i className={this.state.form.fields.confirmPassword.visible?\"fa fa-eye-slash\":\"fa fa-eye\"} \r\n                                    style={{cursor: \"pointer\"}} \r\n                                    onClick={()=>this.togglePasswordVisibility('confirmPassword')}>\r\n                                </i>\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"invalid-feedback\">{this.showFormFieldError('confirmPassword')?this.state.form.fields.confirmPassword.error:''}</div>\r\n                    </div>     \r\n                </div>\r\n               \r\n                <div className=\"form-group text-center mt-4\">\r\n                    <button className=\"btn btn-success mr-2\" type=\"submit\" >Register</button>\r\n                    <button className=\"btn btn-secondary\" type=\"button\" onClick={this.props.close}>Cancel</button>\r\n                </div>\r\n            </form>\r\n\r\n        );\r\n    }\r\n  \r\n};\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Register));","import React, { Component } from 'react';\r\nimport { Control, LocalForm, Errors } from 'react-redux-form';\r\nimport { alertifyService } from '../services/AlertifyService';\r\nimport { required, minLength, maxLength, validDate } from '../shared/validators';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../redux/ActionCreators';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: (creds, onSuccess, onError) => { dispatch(loginUser(creds, onSuccess, onError)) }\r\n});\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            form: {\r\n                fields:{\r\n                    username: {\r\n                        value:''\r\n                    },\r\n                    dateOfBirth: {\r\n                        value:''\r\n                    },\r\n                    city: {\r\n                        value:''\r\n                    },\r\n                    country: {\r\n                        value:''\r\n                    },\r\n                    password: {\r\n                        value:'',\r\n                        visible:''\r\n                    },\r\n                    confirmPassword: {\r\n                        value:'',\r\n                        visible:''\r\n                    }\r\n                },\r\n                valid: false,\r\n                touched: false\r\n            }\r\n        };\r\n        \r\n        this.handleInputChangeForm = this.handleInputChangeForm.bind(this);\r\n        this.handleSubmitForm = this.handleSubmitForm.bind(this);\r\n        this.handleBlurForm = this.handleBlurForm.bind(this);\r\n        this.togglePasswordVisibility = this.togglePasswordVisibility.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        console.log(\"RegisterComponent.componentDidMount\",this.props);\r\n    }\r\n\r\n\r\n    handleInputChangeForm(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].value = value;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n    \r\n    handleBlurForm = (event) => {\r\n        const target = event.target;\r\n        const name = target.name;\r\n\r\n        let form = this.state.form;\r\n        form.fields[name].touched = true;\r\n        form.touched = true;\r\n\r\n        form = this.validateForm(form);\r\n\r\n        this.setState({\r\n            form: form\r\n        });\r\n    }\r\n\r\n    togglePasswordVisibility(name){\r\n        let form = this.state.form;\r\n        form.fields[name].visible = !form.fields[name].visible;\r\n        this.setState({\r\n            form\r\n        });\r\n    }\r\n\r\n    handleSubmitForm(event) {\r\n        event.preventDefault();\r\n\r\n        let form = this.state.form;\r\n\r\n        if(form.touched){\r\n            if(!form.valid){\r\n               \r\n                for (let key in form.fields) {\r\n                    form.fields[key].touched = true;\r\n                }\r\n                form.touched = true;\r\n\r\n                this.setState({\r\n                    form\r\n                });\r\n    \r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n        else{\r\n            \r\n            for (let key in form.fields) {\r\n                form.fields[key].touched = true;\r\n            }\r\n            form.touched = true;\r\n\r\n            form = this.validateForm(form);\r\n\r\n            this.setState({\r\n                form\r\n            });\r\n\r\n            if(!form.valid){\r\n                alertifyService.error('Please correct the errors on this form.');\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.props.loginUser(\r\n            {\r\n                username:this.state.form.fields.username.value, \r\n                password:this.state.form.fields.password.value\r\n            },\r\n            ()=>{\r\n                alertifyService.success('Logged in successfully!');\r\n                // this.props.history.push('/posts');\r\n                this.props.close();                \r\n            },\r\n            (error)=>{\r\n\r\n                alertifyService.error(error.message);\r\n            }\r\n        );\r\n    }\r\n\r\n    validateForm(form){\r\n\r\n        for (let key in form.fields) {\r\n            form.fields[key].error = null;\r\n        }\r\n        \r\n        form.valid = true;\r\n\r\n        if (!required(form.fields.username.value)){\r\n            form.valid = false;      \r\n            form.fields.username.error = 'Username is required.';\r\n        }\r\n    \r\n        if (!required(form.fields.password.value)){\r\n            form.valid = false;\r\n            form.fields.password.error = 'Password is required.';      \r\n        }\r\n\r\n        return form;\r\n    }\r\n\r\n    showFormFieldError(name){\r\n        return this.state.form.fields[name].error && this.state.form.fields[name].touched\r\n    }\r\n\r\n    render(){\r\n        // let {formErrors, validForm} = this.validateForm();\r\n\r\n        return(\r\n            <form className=\"\" noValidate onSubmit={this.handleSubmitForm}>\r\n                <h2 className=\"text-center text-primary my-2\">Log In</h2>\r\n                <hr className=\"mb-4\"/>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"font-weight-bold\">Username</label>\r\n                    <input className={\"form-control \"+(this.showFormFieldError('username')?'is-invalid':'')} type=\"text\" placeholder=\"Username\"\r\n                        name='username'\r\n                        value={this.state.form.fields.username.value}\r\n                        onChange={this.handleInputChangeForm}\r\n                        onBlur={this.handleBlurForm}\r\n                        />\r\n                    <div className=\"invalid-feedback\">{this.showFormFieldError('username')?this.state.form.fields.username.error:''}</div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"font-weight-bold\">Password</label>\r\n                    <div className=\"input-group\">\r\n                        <input className={\"form-control \"+(this.showFormFieldError('password')?'is-invalid':'')} type={this.state.form.fields.password.visible?\"text\":\"password\"} placeholder=\"Password\"\r\n                            name='password'\r\n                            value={this.state.form.fields.password.value}\r\n                            onChange={this.handleInputChangeForm}\r\n                            onBlur={this.handleBlurForm}\r\n                            />\r\n                       \r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\"><i className={this.state.form.fields.password.visible?\"fas fa-eye-slash\":\"fas fa-eye\"} style={{cursor: \"pointer\"}} onClick={()=>this.togglePasswordVisibility('password')}></i></span>\r\n                        </div>\r\n                        <div className=\"invalid-feedback\">{this.showFormFieldError('password')?this.state.form.fields.password.error:''}</div>\r\n                    </div>\r\n                </div>\r\n               \r\n                {/* <div class=\"custom-control custom-checkbox\">\r\n                    <input type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck1\"/>\r\n                    <label class=\"custom-control-label\" for=\"customCheck1\">Remember Me</label>\r\n                    <div className=\"invalid-feedback\">asdasda</div>\r\n                </div> */}\r\n               \r\n                <div className=\"form-group text-center mt-4\">\r\n                    <button className=\"btn btn-info mr-2\" type=\"submit\" >Log In</button>\r\n                    <button className=\"btn btn-secondary\" type=\"button\" onClick={this.props.close}>Cancel</button>\r\n                </div>\r\n            </form>\r\n            \r\n        );\r\n    }\r\n  \r\n};\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Login));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signupUser } from '../redux/ActionCreators';\r\nimport { Loading } from './LoadingComponent';\r\nimport Home from './HomeComponent';\r\nimport Header from './HeaderComponent';\r\nimport Footer from './FooterComponent';\r\nimport Lists from './ListsComponent';\r\nimport MemberList from './member/MemberListComponent';\r\nimport MemberDetails from './MemberDetailsComponent';\r\nimport MemberEdit from './MemberEditComponent';\r\nimport Messages from './MessagesComponent';\r\nimport CreatePost from './CreatePostComponent';\r\nimport PostDetails from './PostDetailsComponent';\r\nimport Posts from './PostsComponent';\r\nimport EditPost from './EditPostComponent';\r\nimport LikedPosts from './LikedPostsComponent';\r\nimport UserPosts from './UserPostsComponent';\r\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\r\nimport { Modal } from 'react-bootstrap';\r\nimport Register from './RegisterComponent';\r\nimport Login from './LoginComponent';\r\n// import { Modal } from 'react-bootstrap';\r\n// import Register from './RegisterComponent';\r\n// import Login from './LoginComponent';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated\r\n        // authUserId: state.auth.decodedToken.nameid\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    \r\n});\r\n\r\n// const RenderValues = ({values, isLoading, errMess}) => {\r\n//     if(isLoading){\r\n//         return (\r\n//             <div className=\"row\">\r\n//                 <Loading/>\r\n//             </div>\r\n//         );\r\n//     }\r\n//     else if(errMess){\r\n//         return(\r\n//             <div className=\"row\">\r\n//                 <h4>{errMess}</h4>\r\n//             </div>\r\n//         );\r\n//     }\r\n//     else {\r\n       \r\n//         const valueItems = values.map((value)=>{\r\n//             console.log(value);\r\n//             return (\r\n//                 <div key={value.id} className=\"col-12\">\r\n//                     <p>Id: {value.id} Name: {value.name}</p>                \r\n//                 </div>\r\n//             );\r\n//         });\r\n//         return(\r\n//             <div className=\"row\">\r\n//                 {valueItems}\r\n//             </div>\r\n//         );\r\n//     }\r\n// } \r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n     \r\n       \r\n        this.state = {\r\n            modal: {\r\n                show: false,\r\n                type: ''\r\n            }   \r\n        };\r\n\r\n        this.showModal = this.showModal.bind(this);\r\n        this.hideModal = this.hideModal.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"MainComponent.componentDidMount\");\r\n\r\n        // window.addEventListener(\"beforeunload\", this.keepOnPage);\r\n    \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log(\"MainComponent.componentWillUnmount\");\r\n        // window.removeEventListener('beforeunload', this.keepOnPage);\r\n    }\r\n\r\n    // componentDidUpdate(oldProps) {\r\n    //     if (this.props.location !== oldProps.location) {\r\n    //       this.onRouteChanged(oldProps.location, this.props.location);\r\n    //     }\r\n    // }\r\n\r\n    // keepOnPage(e) {\r\n    //     return (e || window.event).returnValue = 'Are you sure you want to close this page?';\r\n    // }\r\n    \r\n    // onRouteChanged(oldLocation, newLocation) {\r\n    // console.log(\"onRouteChanged!\");\r\n    // console.log(oldLocation);\r\n    // console.log(newLocation);\r\n    // }\r\n    \r\n    // showModal(type){\r\n    //     this.setState({\r\n    //         modal: {...this.state.modal, show:true, type:type}\r\n    //     });\r\n    // }\r\n\r\n    // hideModal(){\r\n    //     console.log(\"HeaderComponent.hideModal\");\r\n    //     this.setState({\r\n    //         modal: {...this.state.modal, show:false}\r\n    //     });\r\n    // }\r\n    showModal(type){\r\n        this.setState({\r\n            modal: {...this.state.modal, show:true, type:type}\r\n        });\r\n    }\r\n\r\n    hideModal(){\r\n        console.log(\"MainComponent.hideModal\");\r\n        this.setState({\r\n            modal: {...this.state.modal, show:false}\r\n        });\r\n    }\r\n\r\n    render(){\r\n        console.log(\"render main component\");\r\n        const AuthGuardedRoute = ({ render, ...rest }) => (\r\n            <Route {...rest} render={\r\n                this.props.isAuthenticated? render\r\n                : (props)=><Redirect to={{ pathname: '/home', state: { from: props.location } }} />\r\n            } />\r\n          );\r\n\r\n        return (\r\n            <div className=\"Main\">\r\n                <Header showModal={this.showModal}/>\r\n                {/* <Header history={this.props.history}/> */}\r\n                <Switch>\r\n\r\n                    <Route path=\"/home\" component={() => <Home \r\n                            signupUser={this.props.signupUser} />}\r\n                    />\r\n\r\n                    <Route exact path=\"/search\" render={(props) => <Posts showModal={this.showModal}/>}  />\r\n                    <Route exact path=\"/posts/:id\" render={(props) => <PostDetails />} />\r\n                    <AuthGuardedRoute path=\"/posts/:id/edit\" render={(props) => <EditPost />} />\r\n                    <AuthGuardedRoute path=\"/likedPosts\" render={(props) => <LikedPosts/>} />\r\n                    <AuthGuardedRoute path=\"/userPosts/:id\" render={(props) => <UserPosts/>} />\r\n                    {/* <AuthGuardedRoute exact path=\"/members\" render={(props) => <MemberList/>} /> */}\r\n                    <Route path=\"/members/:id\" render={(props) => <MemberDetails />} />\r\n                    <AuthGuardedRoute path=\"/member/edit\" render={(props) => <MemberEdit/>} />\r\n                    <AuthGuardedRoute path=\"/messages\" render={(props) => <Messages/>} />            \r\n                    <AuthGuardedRoute path=\"/lists\" render={(props) => <Lists/>} />\r\n                    <AuthGuardedRoute path=\"/createPost\" render={(props) => <CreatePost/>} />\r\n\r\n                    <Redirect to=\"/home\" />\r\n                </Switch>\r\n                {/* <Footer/> */}\r\n   \r\n                {/* <div className=\"container\">\r\n                    <h1 className=\"my-4\">Dating App</h1>\r\n\r\n                    <RenderValues\r\n                        values={this.props.values.values}\r\n                        isLoading={this.props.values.isLoading}\r\n                        errMess={this.props.values.errMess}\r\n                    />     \r\n                </div> */}\r\n                <Modal\r\n                    show={this.state.modal.show}\r\n                    onHide={this.hideModal}\r\n                    animation={true}\r\n                    backdrop={'static'}\r\n                    centered\r\n                    scrollable={true}\r\n                >\r\n                    {/* <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Modal heading\r\n                    </Modal.Title>\r\n                    </Modal.Header> */}\r\n                    <Modal.Body className=\"mx-4\">\r\n                        {\r\n                            this.state.modal.type=='login'?\r\n                            <Login close={this.hideModal}/>\r\n                            :null\r\n                        }\r\n                        {\r\n                            this.state.modal.type=='register'?\r\n                            <Register close={this.hideModal}/>\r\n                            : null\r\n                        }\r\n                       \r\n                    </Modal.Body>\r\n                    {/* <Modal.Footer>\r\n                    <Button onClick={() => this.setState({ showLoginModal: false })}>Close</Button>\r\n                    </Modal.Footer> */}\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { Values } from './values';\r\nimport { Users } from './users';\r\nimport { Auth } from './auth';\r\nimport thunk from 'redux-thunk';\r\nimport logger from \"redux-logger\";\r\n\r\n// const ConfigureStore = () => {\r\n//     return createStore(\r\n//         combineReducers({\r\n//             values: Values,\r\n//             auth: Auth,\r\n//             users: Users\r\n//         }),\r\n//         applyMiddleware(thunk, logger)\r\n//     );\r\n// }\r\n\r\nexport const store = createStore(\r\n    combineReducers({\r\n        values: Values,\r\n        auth: Auth,\r\n        users: Users\r\n    }),\r\n    applyMiddleware(thunk, logger)\r\n);","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Values = (\r\n    state = { \r\n        isLoading: true, \r\n        errMess: null, \r\n        values: []\r\n    }, \r\n    action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.VALUES_LOADING:\r\n            return {...state, isLoading: true, errMess: null, values: []};\r\n        case ActionTypes.ADD_VALUES:\r\n            return {...state, isLoading: false, errMess: null, values: action.payload};\r\n        case ActionTypes.VALUES_FAILED:\r\n            return {...state, isLoading: false, errMess: action.payload, values: []};\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport JwtDecode from 'jwt-decode';\r\nimport { store } from './store';\r\n\r\nconst initAuthState = ()=>{\r\n    var initAuthState = {\r\n        isRequestingLogin: false,\r\n        errMessLogin: null,\r\n        isAuthenticated: false,\r\n        token: null,\r\n        decodedToken: null,\r\n        user: null,\r\n        isRequestingLogout: false\r\n    };\r\n\r\n    const token = localStorage.getItem('token');\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if(token != null && user != null){\r\n        const decodedToken = JwtDecode(token);\r\n        if (typeof decodedToken.exp === 'undefined' || decodedToken.exp > Date.now().valueOf() / 1000) {\r\n            initAuthState.token = token;\r\n            initAuthState.decodedToken = decodedToken;\r\n            initAuthState.isAuthenticated = true;\r\n            initAuthState.user = user;\r\n\r\n        }\r\n        else{\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('user');\r\n        }\r\n    }\r\n\r\n    return initAuthState;\r\n};\r\n\r\nexport const Auth = (state = initAuthState(), action) => {\r\n    switch(action.type){\r\n        case ActionTypes.LOGIN_REQUEST:\r\n            return {...state,\r\n                isRequestingLogin: true,\r\n                errMessLogin:null,\r\n                isAuthenticated: false,\r\n                token: null,\r\n                decodedToken: null,\r\n                user: null\r\n            };\r\n        case ActionTypes.LOGIN_SUCCESS:\r\n            return {...state,\r\n                isRequestingLogin: false,\r\n                errMessLogin:null,\r\n                isAuthenticated: true,\r\n                token: action.token,\r\n                decodedToken: JwtDecode(action.token),\r\n                user: action.user,\r\n            };\r\n        case ActionTypes.LOGIN_FAILURE:\r\n            return {...state,\r\n                isRequestingLogin: false,\r\n                errMessLogin:action.message,\r\n                isAuthenticated: false,\r\n                token: null,\r\n                decodedToken: null,\r\n                user: null\r\n            };\r\n        case ActionTypes.LOGOUT_REQUEST:\r\n            return {...state,\r\n                isRequestingLogout: true\r\n            };\r\n        case ActionTypes.LOGOUT_SUCCESS:\r\n            return {...state,\r\n                isRequestingLogout: false,\r\n                isAuthenticated: false,\r\n                token: null,\r\n                decodedToken: null\r\n            };\r\n        case ActionTypes.SET_USER_MAIN_PHOTO_URL:\r\n            return {...state,\r\n                user: {...state.user, photoUrl: action.url}\r\n            };\r\n        case ActionTypes.ADD_AUTH_USER:\r\n            return {...state,\r\n                user: action.user\r\n            };\r\n        // case ActionTypes.SIGNUP_REQUEST:\r\n        //     return {...state,\r\n        //         isLoadingSignup: true\r\n        //     };\r\n        // case ActionTypes.SIGNUP_SUCCESS:\r\n        //     return {...state,\r\n        //         isLoadingSignup: false,\r\n        //         errMess: '',\r\n        //     };\r\n        // case ActionTypes.SIGNUP_FAILURE:\r\n        //     return {...state,\r\n        //         isLoadingSignup: false,\r\n        //         errMess: action.message\r\n        //     };\r\n        default:\r\n            return state;\r\n    }\r\n};","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Users = (\r\n    state = { \r\n        isLoading: false,\r\n        errMess: null,\r\n        users: [],\r\n        usersDetails: [],\r\n    }, \r\n    action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.USERS_LOADING:\r\n            return {...state, isLoading: true, errMess: null, users: []};\r\n        case ActionTypes.ADD_USERS:\r\n            return {...state, isLoading: false, errMess: null, users: action.payload};\r\n        case ActionTypes.USERS_FAILED:\r\n            return {...state, isLoading: false, errMess: action.payload, users: []};\r\n        case ActionTypes.ADD_USER:{\r\n            var usersDetails = state.usersDetails;\r\n            var userDetailsIndex = usersDetails.findIndex(userDetails=>userDetails.id == action.user.id);\r\n            if(userDetailsIndex==-1){\r\n                usersDetails.push(action.user);\r\n            }\r\n            else{\r\n                usersDetails[userDetailsIndex]=action.user;\r\n            }\r\n            return {...state, usersDetails: usersDetails};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","import fetchIntercept from 'fetch-intercept';\r\nimport { store } from '../redux/store';\r\nimport { serverIP, serverPort } from './config';\r\n\r\nexport const jwtWhiteListedDomains = [\r\n    `${serverIP}:${serverPort}`\r\n];\r\nexport const jwtBlackListedDomains = [\r\n    `${serverIP}:${serverPort}/api/auth`\r\n];\r\n\r\nexport const unregisterFetchIntercept = fetchIntercept.register({\r\n    request: function (url, config) {\r\n        // console.log(\"fetchIntercept.request\");\r\n        // console.log(url,config);\r\n        \r\n        const domain = url.replace(/(^\\w+:|^)\\/\\//, '');\r\n\r\n        if (store.getState().auth.isAuthenticated == true){\r\n            var jwtRequired = false;\r\n            for(let jwtWhiteListedDomain of jwtWhiteListedDomains){\r\n                if(domain.indexOf(jwtWhiteListedDomain)!=-1){\r\n                    jwtRequired = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if(jwtRequired){\r\n                for(let jwtBlackListedDomain of jwtBlackListedDomains){\r\n                    if(domain.indexOf(jwtBlackListedDomain)!=-1){\r\n                        jwtRequired = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n       \r\n            if(jwtRequired){\r\n                if(config == null){\r\n                    config = {};\r\n                }\r\n\r\n                if(config.headers == null){\r\n                    config.headers = {};\r\n                }\r\n\r\n                config.headers['Authorization'] = 'bearer ' + store.getState().auth.token;\r\n            }\r\n        }\r\n    \r\n        // Modify the url or config here\r\n        return [url, config];\r\n    },\r\n\r\n    requestError: function (error) {\r\n        // console.log(\"fetchIntercept.error\");\r\n        // console.log(error);\r\n        // Called when an error occured during another 'request' interceptor call\r\n        return Promise.reject(error);\r\n    },\r\n\r\n    response: function (response) {\r\n        // console.log(\"fetchIntercept.response\");\r\n        // console.log(response);\r\n\r\n        // if(!response.ok){\r\n        //     const applicationError = response.headers.get('Application-Error');\r\n        //     if(applicationError){\r\n        //         throw new Error(applicationError);\r\n        //     }\r\n\r\n        //     response.clone().json()\r\n        //     .then(responseBodyJson=>{\r\n        //         console.log(responseBodyJson);\r\n        //     })\r\n        //     .catch(error=>{\r\n        //         console.log(error);\r\n        //         throw error;\r\n                \r\n        //         response.clone().text()\r\n        //         .then(responseBodyText=>{\r\n        //             throw new Error(responseBodyText);\r\n        //         })\r\n        //         .catch(error=>{\r\n        //             throw error;\r\n        //         })\r\n                \r\n        //     });\r\n     \r\n        // }\r\n        // Modify the reponse object\r\n        return response;\r\n    },\r\n\r\n\r\n    responseError: function (error) {\r\n        // console.log(\"fetchIntercept.responseError\");\r\n        // console.log(error);\r\n        // Handle an fetch error\r\n        return Promise.reject(error);\r\n    }\r\n});\r\n\r\n\r\n\r\n// // Call fetch to see your interceptors in action.\r\n// fetch('http://google.com');\r\n\r\n// // Unregister your interceptor\r\n// unregister();","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Main from './components/MainComponent';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { unregisterFetchIntercept } from './shared/fetchIntercept';\nimport Footer from './components/FooterComponent';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <div className=\"App\">\n          <Main/>\n          <Footer/>\n        </div>\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// import 'react-app-polyfill/ie11';\n// import 'react-app-polyfill/stable';\nimport 'react-app-polyfill/ie9'\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import 'bootswatch/dist/sketchy/bootstrap.min.css';\nimport 'bootswatch/dist/sandstone/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'alertifyjs/build/css/alertify.min.css';\nimport 'alertifyjs/build/css/themes/bootstrap.min.css';\nimport 'react-image-gallery/styles/css/image-gallery.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgCardSide\":\"PostsComponent_imgCardSide__3afKU\",\"divPost\":\"PostsComponent_divPost__Rn3DB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"MessagesComponent_table__3zW3d\",\"imgCircle\":\"MessagesComponent_imgCircle__1WpO0\",\"td\":\"MessagesComponent_td__1bIQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgThumbnail\":\"CreatePostComponent_imgThumbnail__3oHw6\",\"labelInputImage\":\"CreatePostComponent_labelInputImage__10aNz\",\"isInvalid\":\"CreatePostComponent_isInvalid__1bxop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MemberMessagesComponent_card__1S5uI\",\"chat\":\"MemberMessagesComponent_chat__3E6x2\",\"roundedCircle\":\"MemberMessagesComponent_roundedCircle__12ldk\",\"cardBody\":\"MemberMessagesComponent_cardBody__DkLPn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownToggle\":\"HeaderComponent_dropdownToggle__1_QCU\",\"dropdownItem\":\"HeaderComponent_dropdownItem__3CnDJ\",\"imgUser\":\"HeaderComponent_imgUser__3Doy_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MemberCardComponent_card__1xBF3\",\"cardImgWrapper\":\"MemberCardComponent_cardImgWrapper__1jQZl\",\"memberIcons\":\"MemberCardComponent_memberIcons__2RG7_\",\"animate\":\"MemberCardComponent_animate__Xfzsi\"};"],"sourceRoot":""}